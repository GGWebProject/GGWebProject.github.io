{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/header/header.js","webpack:///./src/components/tools/tools.js","webpack:///./src/components/frames-list/frame/frame.js","webpack:///./src/screens/preview/preview.js","webpack:///./src/screens/canvas/canvas.js","webpack:///./src/components/frames-list/frames-list.js","webpack:///./src/app.js","webpack:///./src/player.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","toggleClass","elem","classString","classList","toggle","toggleHeaderState","obj","Header","constructor","props","this","[object Object]","header","document","createElement","wrapper","btnMenu","btnOptions","h1","add","innerText","innerHTML","appendChild","render","addEventListener","e","target","closest","body","toggleElement","toolsObj","element","nameState","keys","forEach","disableActiveTool","activeTool","querySelector","remove","removeActiveClass","toggleToolsState","Tools","tools","paintBucket","colorPicker","move","transform","hr","selectedTools","Frame","number","frame","frameNumb","frameRemove","framecopy","frameMove","frameCanvas","canvasPreview","setAttribute","countFrames","button","insertBefore","changeFPS","evTarget","that","evValue","fps","selectedFPS","animationPreview","playerProperty","window","intAnimPrev","clearTimeout","clearTimeOut","animationFrames","length","style","setProperty","imageOnPreview","frameOnPreview","image","checkNextIndexOutRange","time","setTimeout","listenerFunc","type","requestFullscreen","mozRequestFullScreen","webkitRequestFullscreen","msRequestFullscreen","openInFullScreen","Preview","fpsValue","previewWrapper","previewSettings","fpsRange","fpsView","animation","fullScreen","flag","imagesArr","canvasList","querySelectorAll","activeCanvasWrapper","activeCanvas","firstChild","push","toDataURL","item","canvas","clearAnimationFrames","preview","copyInFrameCanvas","imageData","getContext","putImageData","Draw","ctx","mouse","x","y","scale","canvasWidth","getAttribute","canvasStyleWidth","offsetWidth","offsetX","offsetY","fillRect","Math","ceil","fill","canvasState","isDraw","removeEventListener","getImageData","createAnimationFrames","startAnimationPreview","getSelection","empty","removeAllRanges","Canvas","canvasWrapper","isEmptyFrames","count","setFramesCorrectNumb","index","setCanvasCorrectNumb","changeCountFrame","action","removeNode","parentSelector","removeChild","copyNode","newFrame","cloneNode","prevElem","nextSibling","elemSelector","activeFrame","setActiveFrame","numb","currentFrame","changeCurrFrameProp","createFrame","createNode","previousSibling","setActiveCanvas","activeFrameNumb","listenersFunc","playerProps","nextElem","contains","removeFrame","removeFrameNumb","removeCanvas","copyFrame","copyFrameNumb","newCanvas","copyCanvas","FramesList","framesList","addNewFrame","player","bucket","isMenuOpen","isOptionsOpen","renderCanvasWrapper"],"mappings":"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","file":"app.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","function toggleClass(elem, classString) {\n  elem.classList.toggle(classString);\n}\n\nfunction toggleHeaderState(obj, key) {\n  const objectToggle = obj;\n  objectToggle[key] = !obj[key];\n}\n\nfunction listenersFunc(e) {\n  const { target } = e;\n  if (target.closest('.btn_menu')) {\n    toggleClass(target.closest('.btn_menu'), 'open');\n    toggleHeaderState(this, 'isMenuOpen');\n  }\n  if (target.closest('.btn_options')) {\n    toggleClass(target.closest('.btn_options'), 'open');\n    toggleHeaderState(this, 'isOptionsOpen');\n  }\n}\n\nexport default class Header {\n  constructor(props) {\n    this.props = props;\n  }\n\n  static create() {\n    const header = document.createElement('header');\n    const wrapper = document.createElement('div');\n    const btnMenu = document.createElement('button');\n    const btnOptions = document.createElement('button');\n    const h1 = document.createElement('h1');\n    wrapper.classList.add('wrapper');\n    btnMenu.classList.add('btn', 'btn_menu');\n    btnOptions.classList.add('btn', 'btn_options');\n    h1.innerText = 'CodeJam - Animation Player';\n    btnMenu.innerHTML = '<div class=\"line line_1\"></div>'\n                      + '<div class=\"line line_2\"></div>'\n                      + '<div class=\"line line_3\"></div>';\n    btnOptions.innerHTML = '<div class=\"dot dot_1\"></div>'\n                         + '<div class=\"dot dot_2\"></div>'\n                         + '<div class=\"dot dot_3\"></div>';\n    wrapper.appendChild(btnMenu);\n    wrapper.appendChild(h1);\n    wrapper.appendChild(btnOptions);\n    header.appendChild(wrapper);\n    return header;\n  }\n\n  render() {\n    const { props } = this;\n    const header = Header.create();\n    header.addEventListener('click', listenersFunc.bind(props), false);\n    document.body.appendChild(header);\n  }\n}\n","function toggleClass(elem, classString) {\n  elem.classList.toggle(classString);\n}\n\nfunction isSelfClick(obj, selfKey) {\n  return obj[selfKey];\n}\n\nfunction disableActiveTool(obj) {\n  const toolsObj = obj;\n  Object.keys(toolsObj).forEach((key) => {\n    toolsObj[key] = false;\n  });\n}\n\nfunction removeActiveClass() {\n  const activeTool = document.querySelector('.tool.active');\n  if (activeTool) activeTool.classList.remove('active');\n}\n\nfunction toggleToolsState(obj, key) {\n  const toolsObj = obj;\n  toolsObj[key] = !obj[key];\n}\n\nfunction toggleElement(toolsObj, element, nameState) {\n  if (!isSelfClick(toolsObj, nameState)) {\n    disableActiveTool(toolsObj);\n    removeActiveClass();\n  }\n  toggleClass(element, 'active');\n  toggleToolsState(toolsObj, nameState);\n}\n\nfunction listenersFunc(e) {\n  const { target } = e;\n  if (target.closest('.tool_paint-bucket')) {\n    toggleElement(this.selectedTools, target.closest('.tool_paint-bucket'), 'bucket');\n  }\n  if (target.closest('.tool_color-picker')) {\n    toggleElement(this.selectedTools, target.closest('.tool_color-picker'), 'colorPicker');\n  }\n  if (target.closest('.tool_move')) {\n    toggleElement(this.selectedTools, target.closest('.tool_move'), 'move');\n  }\n  if (target.closest('.tool_transform')) {\n    toggleElement(this.selectedTools, target.closest('.tool_transform'), 'transform');\n  }\n}\n\nexport default class Tools {\n  constructor(props) {\n    this.props = props;\n  }\n\n  static create() {\n    const tools = document.createElement('div');\n    const paintBucket = document.createElement('button');\n    const colorPicker = document.createElement('button');\n    const move = document.createElement('button');\n    const transform = document.createElement('button');\n    const hr = document.createElement('hr');\n    tools.classList.add('tools');\n    paintBucket.classList.add('tool', 'tool_paint-bucket');\n    colorPicker.classList.add('tool', 'tool_color-picker');\n    move.classList.add('tool', 'tool_move');\n    transform.classList.add('tool', 'tool_transform');\n    tools.appendChild(paintBucket);\n    tools.appendChild(colorPicker);\n    tools.appendChild(hr);\n    tools.appendChild(move);\n    tools.appendChild(transform);\n    return tools;\n  }\n\n  render() {\n    const { props } = this;\n    const tools = Tools.create();\n    tools.addEventListener('click', listenersFunc.bind(props), false);\n    document.body.appendChild(tools);\n  }\n}\n","export default class Frame {\n  constructor(props) {\n    this.props = props;\n  }\n\n  static create(number) {\n    const frame = document.createElement('li');\n    const frameNumb = document.createElement('div');\n    const frameRemove = document.createElement('button');\n    const framecopy = document.createElement('button');\n    const frameMove = document.createElement('div');\n    const frameCanvas = document.createElement('div');\n    const canvasPreview = document.createElement('canvas');\n    canvasPreview.setAttribute('width', '32');\n    canvasPreview.setAttribute('height', '32');\n    frameNumb.innerHTML = `<span>${number}</span>`;\n    frame.setAttribute('data-number', number);\n    frame.classList.add('frame');\n    frameNumb.classList.add('frame__number');\n    frameRemove.classList.add('frame__remove');\n    framecopy.classList.add('frame__copy');\n    frameMove.classList.add('frame__move');\n    frameCanvas.classList.add('frame__canvas');\n    frameCanvas.appendChild(canvasPreview);\n    frame.appendChild(frameNumb);\n    frame.appendChild(frameRemove);\n    frame.appendChild(framecopy);\n    frame.appendChild(frameMove);\n    frame.appendChild(frameCanvas);\n    return frame;\n  }\n\n  render() {\n    const { countFrames } = this.props;\n    const frame = Frame.create(countFrames + 1);\n    const button = document.querySelector('.btn_new-frame');\n    document.querySelector('.frames').insertBefore(frame, button);\n  }\n}\n","function clearTimeOut() {\n  while (window.intAnimPrev > 0) {\n    window.clearTimeout(window.intAnimPrev);\n    window.intAnimPrev -= 1;\n  }\n}\n\nfunction openInFullScreen() {\n  const element = document.querySelector('.preview__animation');\n  if (element.requestFullscreen) {\n    element.requestFullscreen();\n  } else if (element.mozRequestFullScreen) {\n    element.mozRequestFullScreen();\n  } else if (element.webkitRequestFullscreen) {\n    element.webkitRequestFullscreen();\n  } else if (element.msRequestFullscreen) {\n    element.msRequestFullscreen();\n  }\n}\n\nfunction clearAnimationFrames(props) {\n  const playerProperty = props;\n  playerProperty.animationFrames.length = 0;\n}\n\nfunction checkNextIndexOutRange(props) {\n  return props.frameOnPreview + 1 > props.animationFrames.length - 1;\n}\n\nfunction writeFPS(fps) {\n  const fpsView = document.querySelector('.preview__fps-view');\n  fpsView.innerText = `FPS: ${fps}`;\n}\n\nfunction changeFPS(evTarget, props) {\n  const that = props;\n  const evValue = +evTarget.value;\n  that.selectedFPS = evValue;\n  writeFPS(evValue);\n}\n\nfunction changePreviewBg(image) {\n  const animationBlock = document.querySelector('.preview__animation');\n  animationBlock.style.setProperty('background-image', `url(\"${image}\")`);\n}\n\nfunction clearBackgroundPreview() {\n  const animationBlock = document.querySelector('.preview__animation');\n  animationBlock.style.setProperty('background-image', 'url(\"\")');\n}\n\nfunction animationPreview(props) {\n  const playerProperty = props;\n  clearTimeOut();\n  if (playerProperty.animationFrames.length === 0) {\n    clearBackgroundPreview();\n    return;\n  }\n  const imageOnPreview = playerProperty.animationFrames[playerProperty.frameOnPreview];\n  changePreviewBg(imageOnPreview);\n  if (checkNextIndexOutRange(playerProperty)) {\n    playerProperty.frameOnPreview = 0;\n  } else {\n    playerProperty.frameOnPreview += 1;\n  }\n  const time = 1000 / playerProperty.selectedFPS;\n  window.intAnimPrev = setTimeout(animationPreview, time, playerProperty);\n}\n\nfunction listenerFunc(e) {\n  const { target } = e;\n  const evType = e.type;\n  const that = this;\n  switch (evType) {\n    case 'input': {\n      const inputRange = target.closest('.preview__fps-control');\n      changeFPS(inputRange, that);\n      break;\n    }\n    case 'click': {\n      if (target.closest('.preview__fullscreen')) {\n        openInFullScreen();\n      }\n      break;\n    }\n    default: {\n      break;\n    }\n  }\n}\n\nexport default class Preview {\n  constructor(props) {\n    this.props = props;\n  }\n\n  static create(props) {\n    const fpsValue = props.selectedFPS;\n    const previewWrapper = document.createElement('div');\n    const previewSettings = document.createElement('div');\n    const fpsRange = document.createElement('input');\n    const fpsView = document.createElement('span');\n    const animation = document.createElement('div');\n    const fullScreen = document.createElement('button');\n    fpsView.innerText = `FPS: ${fpsValue}`;\n    fpsRange.setAttribute('type', 'range');\n    fpsRange.setAttribute('min', '1');\n    fpsRange.setAttribute('max', '24');\n    fpsRange.setAttribute('step', '1');\n    fpsRange.value = fpsValue;\n    previewWrapper.classList.add('preview');\n    previewSettings.classList.add('preview__settings');\n    fpsRange.classList.add('preview__fps-control');\n    fpsView.classList.add('preview__fps-view');\n    animation.classList.add('preview__animation');\n    fullScreen.classList.add('preview__fullscreen');\n    previewSettings.appendChild(fpsView);\n    previewSettings.appendChild(fpsRange);\n    previewWrapper.appendChild(fullScreen);\n    previewWrapper.appendChild(animation);\n    previewWrapper.appendChild(previewSettings);\n    return previewWrapper;\n  }\n\n  static createAnimationFrames(props, flag = 'rebuild') {\n    const playerProperty = props;\n    const imagesArr = [];\n    const canvasList = document.querySelectorAll('.canvas-list li');\n    const activeCanvasWrapper = document.querySelector('.canvas-list li.active');\n    if (!activeCanvasWrapper) {\n      playerProperty.animationFrames.length = 0;\n      return;\n    }\n    const activeCanvas = activeCanvasWrapper.firstChild;\n    if (flag === 'add') {\n      playerProperty.animationFrames.push(activeCanvas.toDataURL());\n    } else if (flag === 'rebuild') {\n      canvasList.forEach((item) => {\n        const canvas = item.firstChild;\n        imagesArr.push(canvas.toDataURL());\n      });\n      clearAnimationFrames(props);\n      playerProperty.animationFrames = imagesArr;\n    }\n  }\n\n  static startAnimationPreview(props) {\n    const time = 1000 / props.selectedFPS;\n    window.intAnimPrev = setTimeout(animationPreview, time, props);\n  }\n\n  render() {\n    const { props } = this;\n    const preview = Preview.create(props);\n    preview.addEventListener('input', listenerFunc.bind(props));\n    preview.addEventListener('click', listenerFunc.bind(props));\n    document.body.appendChild(preview);\n  }\n}\n","import Preview from '../preview/preview';\n\nfunction clearSelection() {\n  if (window.getSelection) {\n    if (window.getSelection().empty) {\n      window.getSelection().empty();\n    } else if (window.getSelection().removeAllRanges) {\n      window.getSelection().removeAllRanges();\n    }\n  }\n}\n\nfunction getImageData(canvas) {\n  const ctx = canvas.getContext('2d');\n  return ctx.getImageData(0, 0, 32, 32);\n}\n\nfunction copyInFrameCanvas(imageData) {\n  const activeFrame = document.querySelector('.frame.active');\n  const canvas = activeFrame.querySelector('canvas');\n  const ctx = canvas.getContext('2d');\n  ctx.putImageData(imageData, 0, 0);\n}\n\nfunction Draw(e) {\n  const evTarget = e.target;\n  const ctx = evTarget.getContext('2d');\n  const mouse = { x: 0, y: 0, scale: 0 };\n  const canvasWidth = evTarget.getAttribute('width');\n  const canvasStyleWidth = evTarget.offsetWidth;\n  mouse.scale = canvasStyleWidth / canvasWidth;\n  mouse.x = e.offsetX / mouse.scale;\n  mouse.y = e.offsetY / mouse.scale;\n  ctx.fillRect(Math.ceil(mouse.x) - 1, Math.ceil(mouse.y) - 1, 1, 1);\n  ctx.fill();\n}\n\nfunction listenerFunc(e) {\n  const evTarget = e.target;\n  const evType = e.type;\n  const that = this;\n  switch (evType) {\n    case 'mousedown': {\n      that.canvasState.isDraw = true;\n      evTarget.addEventListener('mousemove', Draw);\n      break;\n    }\n    case 'mousemove': {\n      // if (!that.canvasState.isDraw) console.log('hover!');\n      break;\n    }\n    case 'mouseleave':\n    case 'mouseup': {\n      that.canvasState.isDraw = false;\n      evTarget.removeEventListener('mousemove', Draw);\n      const imageData = getImageData(evTarget);\n      copyInFrameCanvas(imageData);\n      Preview.createAnimationFrames(that);\n      Preview.startAnimationPreview(that);\n      clearSelection();\n      break;\n    }\n    default: {\n      break;\n    }\n  }\n}\n\nexport default class Canvas {\n  constructor(props) {\n    this.props = props;\n  }\n\n  static create(number) {\n    const canvas = document.createElement('canvas');\n    const canvasWrapper = document.createElement('li');\n    canvasWrapper.classList.add('canvas-list__item');\n    canvas.setAttribute('width', '32');\n    canvas.setAttribute('height', '32');\n    canvasWrapper.setAttribute('data-canvas-number', number);\n    canvasWrapper.appendChild(canvas);\n    return canvasWrapper;\n  }\n\n  static renderCanvasWrapper() {\n    const canvasList = document.createElement('ul');\n    canvasList.classList.add('canvas-list');\n    document.body.appendChild(canvasList);\n  }\n\n  static copyCanvas(canvas, target, props) {\n    const ctx = canvas.getContext('2d');\n    const imageData = ctx.getImageData(0, 0, 32, 32);\n    const targetCtx = target.getContext('2d');\n    targetCtx.putImageData(imageData, 0, 0);\n    target.addEventListener('mousedown', listenerFunc.bind(props), false);\n    target.addEventListener('mousemove', listenerFunc.bind(props), false);\n    target.addEventListener('mouseup', listenerFunc.bind(props), false);\n    target.addEventListener('mouseleave', listenerFunc.bind(props), false);\n    copyInFrameCanvas(imageData);\n  }\n\n  render() {\n    const { props } = this;\n    const canvasWrapper = Canvas.create(props.countFrames);\n    const canvas = canvasWrapper.firstChild;\n    canvas.addEventListener('mousedown', listenerFunc.bind(props), false);\n    canvas.addEventListener('mousemove', listenerFunc.bind(props), false);\n    canvas.addEventListener('mouseup', listenerFunc.bind(props), false);\n    canvas.addEventListener('mouseleave', listenerFunc.bind(props), false);\n    document.querySelector('.canvas-list').appendChild(canvasWrapper);\n  }\n}\n","import Frame from './frame/frame';\nimport Canvas from '../../screens/canvas/canvas';\nimport Preview from '../../screens/preview/preview';\n\nfunction isEmptyFrames(count) {\n  return count === 0;\n}\n\nfunction setFramesCorrectNumb() {\n  if (!document.querySelectorAll('.frame')) return;\n  document.querySelectorAll('.frame').forEach((item, index) => {\n    const frameNumber = item.querySelector('.frame__number span');\n    frameNumber.innerText = index + 1;\n    item.setAttribute('data-number', index + 1);\n  });\n}\n\nfunction setCanvasCorrectNumb() {\n  if (!document.querySelectorAll('.canvas-list__item')) return;\n  document.querySelectorAll('.canvas-list__item').forEach((item, index) => {\n    item.setAttribute('data-canvas-number', index + 1);\n  });\n}\n\nfunction changeCountFrame(action, props) {\n  const playerProperty = props;\n  if (action === 'add') playerProperty.countFrames += 1;\n  if (action === 'remove') {\n    if (!isEmptyFrames(playerProperty.countFrames)) {\n      playerProperty.countFrames -= 1;\n    } else {\n      playerProperty.countFrames = 0;\n    }\n  }\n}\n\nfunction createNode(props) {\n  const frame = new Frame(props);\n  frame.render();\n}\n\nfunction removeNode(elem, parentSelector) {\n  document.querySelector(parentSelector).removeChild(elem);\n}\n\nfunction copyNode(elem, parentSelector) {\n  const newFrame = elem.cloneNode(true);\n  const prevElem = elem.nextSibling;\n  document.querySelector(parentSelector).insertBefore(newFrame, prevElem);\n}\n\nfunction changeCurrFrameProp(numb, props) {\n  const playerProps = props;\n  playerProps.currentFrame = numb;\n}\n\nfunction removeActiveClass(elemSelector) {\n  const activeFrame = document.querySelector(`${elemSelector}.active`);\n  if (activeFrame) activeFrame.classList.remove('active');\n}\n\nfunction setActiveFrame(elem, props) {\n  const frameNumb = +elem.getAttribute('data-number');\n  removeActiveClass('.frame');\n  elem.classList.add('active');\n  changeCurrFrameProp(frameNumb, props);\n}\n\nfunction createFrame(button, props) {\n  createNode(props);\n  changeCountFrame('add', props);\n  const newFrame = button.previousSibling;\n  setActiveFrame(newFrame, props);\n}\n\nfunction removeFrame(frame, props) {\n  const playerProps = props;\n  const prevElem = frame.previousSibling;\n  const nextElem = frame.nextSibling;\n  removeNode(frame, '.frames');\n  changeCountFrame('remove', playerProps);\n  setFramesCorrectNumb();\n  if (frame.classList.contains('active')) {\n    const activeFrame = prevElem || nextElem;\n    if (activeFrame && !isEmptyFrames(playerProps.countFrames)) {\n      setActiveFrame(activeFrame, playerProps);\n    }\n  } else {\n    const activeFrame = document.querySelector('.frame.active');\n    setActiveFrame(activeFrame, playerProps);\n  }\n  if (isEmptyFrames(playerProps.countFrames)) {\n    playerProps.currentFrame = null;\n  }\n}\n\nfunction copyFrame(frame, props) {\n  copyNode(frame, '.frames');\n  changeCountFrame('add', props);\n  setFramesCorrectNumb();\n  const newFrame = frame.nextSibling;\n  setActiveFrame(newFrame, props);\n}\n\nfunction createCanvas(props) {\n  const canvas = new Canvas(props);\n  canvas.render();\n}\n\nfunction removeCanvas(frame) {\n  const removeFrameNumb = frame.getAttribute('data-number');\n  const canvas = document.querySelector(`[data-canvas-number='${removeFrameNumb}']`);\n  removeNode(canvas, '.canvas-list');\n  setCanvasCorrectNumb();\n}\n\nfunction copyCanvas(frame, props) {\n  const copyFrameNumb = frame.getAttribute('data-number');\n  const canvasWrapper = document.querySelector(`[data-canvas-number='${copyFrameNumb}']`);\n  const canvas = document.querySelector(`[data-canvas-number='${copyFrameNumb}']`).firstChild;\n  copyNode(canvasWrapper, '.canvas-list');\n  const newCanvas = document.querySelectorAll(`[data-canvas-number='${copyFrameNumb}']`)[1].firstChild;\n  Canvas.copyCanvas(canvas, newCanvas, props);\n  setCanvasCorrectNumb();\n}\n\nfunction setActiveCanvas() {\n  const activeFrame = document.querySelector('.frame.active');\n  if (!activeFrame) return;\n  const activeFrameNumb = activeFrame.getAttribute('data-number');\n  const canvasWrapper = document.querySelector(`[data-canvas-number='${activeFrameNumb}']`);\n  removeActiveClass('.canvas-list__item');\n  canvasWrapper.classList.add('active');\n}\n\nfunction listenersFunc(e) {\n  const { target } = e;\n  const that = this;\n  if (target.closest('.btn_new-frame')) {\n    createFrame(target.closest('.btn_new-frame'), that);\n    createCanvas(that);\n    setActiveCanvas();\n    Preview.createAnimationFrames(that, 'add');\n  }\n  if (target.closest('.frame__remove')) {\n    removeFrame(target.closest('.frame'), that);\n    removeCanvas(target.closest('.frame'));\n    setActiveCanvas();\n    Preview.createAnimationFrames(that);\n    return;\n  }\n  if (target.closest('.frame__copy')) {\n    copyFrame(target.closest('.frame'), that);\n    copyCanvas(target.closest('.frame'), that);\n    setActiveCanvas();\n    Preview.createAnimationFrames(that);\n    return;\n  }\n  if (target.closest('.frame')) {\n    setActiveFrame(target.closest('.frame'), that);\n    setActiveCanvas();\n  }\n}\n\nexport default class FramesList {\n  constructor(props) {\n    this.props = props;\n  }\n\n  static create() {\n    const framesList = document.createElement('ul');\n    const addNewFrame = document.createElement('button');\n    framesList.classList.add('frames');\n    addNewFrame.classList.add('btn_new-frame');\n    addNewFrame.innerHTML = '<div class=\"icon\"></div><span>Add new frame</span>';\n    framesList.appendChild(addNewFrame);\n    return framesList;\n  }\n\n  render() {\n    const { props } = this;\n    const framesList = FramesList.create();\n    framesList.addEventListener('click', listenersFunc.bind(props), false);\n    document.body.appendChild(framesList);\n  }\n}\n","import Player from './player';\nimport './main.sass';\n\nconst player = new Player();\nwindow.player = player;\nplayer.render();\n","import Header from './components/header/header';\nimport Tools from './components/tools/tools';\nimport FramesList from './components/frames-list/frames-list';\nimport Canvas from './screens/canvas/canvas';\nimport Preview from './screens/preview/preview';\n\nexport default class Player {\n  constructor() {\n    this.selectedTools = {\n      bucket: false,\n      colorPicker: false,\n      move: false,\n      transform: false,\n    };\n    this.canvasState = {\n      isDraw: false,\n    };\n    this.isMenuOpen = false;\n    this.isOptionsOpen = false;\n    this.animationFrames = [];\n    this.currentFrame = null;\n    this.countFrames = 0;\n    this.selectedFPS = 4;\n    this.frameOnPreview = 0;\n  }\n\n  render() {\n    const header = new Header(this);\n    const tools = new Tools(this);\n    const framesList = new FramesList(this);\n    const preview = new Preview(this);\n    header.render();\n    tools.render();\n    framesList.render();\n    Canvas.renderCanvasWrapper();\n    preview.render();\n  }\n}\n"],"sourceRoot":""}