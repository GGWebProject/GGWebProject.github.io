{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/gif.js.optimized/dist/gif.js","webpack:///./node_modules/gif.js.optimized/dist/gif.worker.js","webpack:///./src/components/header/header.js","webpack:///./src/screens/preview/gif/gif.js","webpack:///./src/screens/preview/preview.js","webpack:///./src/components/tools/tools.js","webpack:///./src/components/frames-list/frame/frame.js","webpack:///./src/screens/canvas/canvas-options/canvas-options.js","webpack:///./src/screens/canvas/canvas.js","webpack:///./src/components/frames-list/frames-list.js","webpack:///./src/player.js","webpack:///./src/app.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","e","id","loaded","a","h","indexOf","this","length","EventEmitter","running","options","frames","groups","Map","freeWorkers","activeWorkers","setOptions","constructor","__super__","workerScript","workers","repeat","background","quality","width","height","transparent","debug","delay","copy","setOption","_canvas","push","addFrame","ImageData","data","CanvasRenderingContext2D","WebGLRenderingContext","getContextData","context","childNodes","Error","getImageData","image","has","set","render","nextFrame","finishedFrames","imageParts","spawnWorkers","globalPalette","renderNextFrame","emit","abort","shift","log","terminate","Math","min","apply","forEach","Worker","onmessage","splice","frameFinished","indexOfFirstInGroup","index","finishRendering","f","u","g","v","y","_","pageSize","cursor","round","Uint8Array","Blob","type","setTimeout","getTask","postMessage","document","createElement","getContext","setFill","fillRect","drawImage","last","dither","canTransfer","console","_events","_maxListeners","defaultMaxListeners","setMaxListeners","isNaN","TypeError","error","arguments","Array","slice","addListener","newListener","listener","warned","trace","on","once","removeListener","removeAllListeners","listeners","listenerCount","navigator","userAgent","toLowerCase","platform","match","documentMode","version","parseFloat","parseInt","toggleClass","elem","classString","classList","toggle","toggleHeaderState","obj","Header","props","[object Object]","header","wrapper","btnMenu","btnOptions","h1","add","innerText","innerHTML","appendChild","addEventListener","target","closest","body","ToGif","countFrames","toGif","querySelector","remove","button","changeFPS","evTarget","that","evValue","fps","selectedFPS","animationPreview","playerProperty","window","intAnimPrev","clearTimeout","clearTimeOut","animationFrames","style","setProperty","imageOnPreview","frameOnPreview","checkNextIndexOutRange","time","listenerFunc","evType","element","requestFullscreen","mozRequestFullScreen","webkitRequestFullscreen","msRequestFullscreen","openInFullScreen","canvases","querySelectorAll","worker","maxSize","item","canvasSize","getMaxFrameSize","gif","GIF","canvas","imageData","ctx","getAttribute","newCanvas","setAttribute","putImageData","getMaxSizeCanvas","correctImage","fixBlackColorInGif","ev","downloadLink","resultGif","URL","createObjectURL","click","Preview","fpsValue","previewWrapper","previewSettings","fpsRange","fpsView","animation","fullScreen","createButton","flag","imagesArr","canvasList","activeCanvasWrapper","toggleVisibleToGif","activeCanvas","firstChild","toDataURL","clearAnimationFrames","preview","cleanCanvas","clearRect","changePenSize","size","canvasState","penSize","toggleTools","nameState","selectedTools","player","toolsObj","keys","disableActiveTool","activeTool","removeActiveClass","toggleToolsState","listenersFunc","message","confirm","frame","createAnimationFrames","primaryColorBlock","secondaryColorBlock","colorPrimary","getComputedStyle","backgroundColor","secondaryColor","currentColor","changeColor","inputColor","Tools","setColor","tools","paintBucket","colorPicker","move","pen","eraser","lightenDarken","colorsSelect","ellipse","ellipsePaint","rectangle","rectanglePaint","line","clean","hr","color","selectedColorBlock","contains","Frame","frameShadow","number","frameNumb","frameRemove","frameCopy","frameMove","frameCanvas","canvasPreview","insertBefore","CanvasOptions","canvasNode","canvasSizeNode","parentNode","lastSelectOption","newSelectOptions","x","coordinateX","coordinateY","canvasOptions","canvasCoordinates","canvasSizeWrapper","renderCursor","canvasCSSHeight","clientHeight","flagPenSize","ignoredTools","entries","_tool","includes","cursorSize","createCursor","setCanvasSize","node","copyImageInCanvas","cnvWrapSelector","colorFromCanvas","pointData","hexColor","hex","Number","toString","getCanvasColor","firstClick","canvasImage","isDraw","onmousemove","pressButtons","mouse","scale","canvasStyleWidth","offsetWidth","ceil","offsetX","offsetY","beginPath","point","upValue","coordX","coordY","fillStyle","strokeStyle","lineWidth","moveTo","lineTo","stroke","radius","radiusX","abs","radiusY","PI","rectHeight","rectWidth","rect","fill","Draw","canvasListCSS","leftCanvasList","left","topCanvasList","top","zoomCoordinates","coordinatesX","clientX","coordinatesY","clientY","drawCoordinates","showCoordinates","cursorMove","removeChild","removeCursor","startAnimationPreview","getSelection","empty","removeAllRanges","canvasListItem","canvasListNumb","canvasInFrame","changeCanvasSize","Canvas","canvasWrapper","isEmptyFrames","count","setFramesCorrectNumb","changeCountFrame","action","removeNode","parentSelector","copyNode","newFrame","cloneNode","prevElem","nextSibling","elemSelector","activeFrame","setActiveFrame","numb","currentFrame","changeCurrFrameProp","createFrame","createNode","previousSibling","setActiveCanvas","activeFrameNumb","replaceFrameListItems","removedNodeNumb","beforeNodeNumb","removedNode","beforeNode","removedCanvasItem","moveFrameItem","frameTop","draggableFrame","startY","resultMove","nodeForReplace","nodeArray","prevNode","nextNode","checkReplace","elementsFromPoint","frameList","shadowNode","replaceFrameItems","endMove","playerProps","framesList","removeEventListener","removeListeners","removeFrameShadow","setCanvasCorrectNumb","eventType","nextElem","removeFrame","removeFrameNumb","removeCanvas","copyFrame","copyFrameNumb","setCorrectSize","copyCanvas","copyCanvasListItem","createFrameShadow","appendFrameShadow","framesListStyle","correction","getBoundingClientRect","scrollTop","setCoordinates","FramesList","addNewFrame","chooseButton","command","range","view","stepUp","stepDown","setPenSize","pressKeys","shortCuts","shortcuts","selectedButton","shortCut","checkShortcuts","toUpperCase","bucket","isMenuOpen","isOptionsOpen","penSizeUp","penSizeDown","swapColor","renderCanvasWrapper"],"mappings":"aACA,IAAAA,EAAA,GAGA,SAAAC,EAAAC,GAGA,GAAAF,EAAAE,GACA,OAAAF,EAAAE,GAAAC,QAGA,IAAAC,EAAAJ,EAAAE,GAAA,CACAG,EAAAH,EACAI,GAAA,EACAH,QAAA,IAUA,OANAI,EAAAL,GAAAM,KAAAJ,EAAAD,QAAAC,IAAAD,QAAAF,GAGAG,EAAAE,GAAA,EAGAF,EAAAD,QAKAF,EAAAQ,EAAAF,EAGAN,EAAAS,EAAAV,EAGAC,EAAAU,EAAA,SAAAR,EAAAS,EAAAC,GACAZ,EAAAa,EAAAX,EAAAS,IACAG,OAAAC,eAAAb,EAAAS,EAAA,CAA0CK,YAAA,EAAAC,IAAAL,KAK1CZ,EAAAkB,EAAA,SAAAhB,GACA,oBAAAiB,eAAAC,aACAN,OAAAC,eAAAb,EAAAiB,OAAAC,YAAA,CAAwDC,MAAA,WAExDP,OAAAC,eAAAb,EAAA,cAAiDmB,OAAA,KAQjDrB,EAAAsB,EAAA,SAAAD,EAAAE,GAEA,GADA,EAAAA,IAAAF,EAAArB,EAAAqB,IACA,EAAAE,EAAA,OAAAF,EACA,KAAAE,GAAA,iBAAAF,QAAAG,WAAA,OAAAH,EACA,IAAAI,EAAAX,OAAAY,OAAA,MAGA,GAFA1B,EAAAkB,EAAAO,GACAX,OAAAC,eAAAU,EAAA,WAAyCT,YAAA,EAAAK,UACzC,EAAAE,GAAA,iBAAAF,EAAA,QAAAM,KAAAN,EAAArB,EAAAU,EAAAe,EAAAE,EAAA,SAAAA,GAAgH,OAAAN,EAAAM,IAAqBC,KAAA,KAAAD,IACrI,OAAAF,GAIAzB,EAAA6B,EAAA,SAAA1B,GACA,IAAAS,EAAAT,KAAAqB,WACA,WAA2B,OAAArB,EAAA,SAC3B,WAAiC,OAAAA,GAEjC,OADAH,EAAAU,EAAAE,EAAA,IAAAA,GACAA,GAIAZ,EAAAa,EAAA,SAAAiB,EAAAC,GAAsD,OAAAjB,OAAAkB,UAAAC,eAAA1B,KAAAuB,EAAAC,IAGtD/B,EAAAkC,EAAA,IAIAlC,IAAAmC,EAAA,qBClFgEhC,EAAAD,QAA2I,SAAAoB,GAAmB,SAAAc,EAAAP,GAAc,GAAAzB,EAAAyB,GAAA,OAAAzB,EAAAyB,GAAA3B,QAA4B,IAAAgB,EAAAd,EAAAyB,GAAA,CAAY3B,QAAA,GAAUmC,GAAAR,EAAAS,QAAA,GAAiB,OAAAhB,EAAAO,GAAAtB,KAAAW,EAAAhB,QAAAgB,IAAAhB,QAAAkC,GAAAlB,EAAAoB,QAAA,EAAApB,EAAAhB,QAAgE,IAAAE,EAAA,GAAS,OAAAgC,EAAA5B,EAAAc,EAAAc,EAAA3B,EAAAL,EAAAgC,EAAAF,EAAA,GAAAE,EAAA,GAA7K,CAA4M,UAAAd,EAAAc,EAAAhC,GAAkB,IAAAyB,EAAAX,EAA6KqB,EAAA,GAAKN,eAAAO,EAAA,GAAAC,SAAA,SAAAnB,GAA0C,QAAAc,EAAA,EAAAhC,EAAAsC,KAAAC,OAA0BP,EAAAhC,EAAIgC,IAAA,GAAAA,KAAAM,WAAAN,KAAAd,EAAA,OAAAc,EAAuC,UAAUP,EAAAzB,EAAA,GAAAwC,aAAAxC,EAAA,GAAAc,EAAA,SAAAI,GAAyC,SAAAc,EAAAd,GAAc,IAAAc,EAAAP,EAAAX,EAA0I,IAAAW,KAAhIa,KAAAG,SAAA,EAAAH,KAAAI,QAAA,GAA+BJ,KAAAK,OAAA,GAAAL,KAAAM,OAAA,IAAAC,IAAAP,KAAAQ,YAAA,GAAAR,KAAAS,cAAA,GAAAT,KAAAU,WAAA9B,GAAiGlB,EAAAc,EAAAd,EAAAyB,GAAA,OAAAO,EAAAM,KAAAI,SAAAjB,KAAAO,EAAAP,GAAAX,GAAsD,IAAAd,EAAAyB,EAAQ,OAA1iB,SAAAP,EAAAc,GAA0B,SAAAhC,IAAasC,KAAAW,YAAA/B,EAAmB,QAAAO,KAAAO,EAAAG,EAAAhC,KAAA6B,EAAAP,KAAAP,EAAAO,GAAAO,EAAAP,IAAwCzB,EAAA4B,UAAAI,EAAAJ,UAAAV,EAAAU,UAAA,IAAA5B,EAAAkB,EAAAgC,UAAAlB,EAAAJ,UAAwcnB,CAAAuB,EAAAd,GAAAlB,EAAA,CAAiBmD,aAAA,gBAAAC,QAAA,EAAAC,OAAA,EAAAC,WAAA,OAAAC,QAAA,GAAAC,MAAA,KAAAC,OAAA,KAAAC,YAAA,KAAAC,OAAA,GAA8HlC,EAAA,CAAImC,MAAA,IAAAC,MAAA,GAAkB7B,EAAAJ,UAAAkC,UAAA,SAAA5C,EAAAc,GAAqC,GAAAM,KAAAI,QAAAxB,GAAAc,EAAA,MAAAM,KAAAyB,UAAA,UAAA7C,GAAA,WAAAA,GAAA,OAAAoB,KAAAyB,QAAA7C,GAAAc,GAA8FA,EAAAJ,UAAAoB,WAAA,SAAA9B,GAAoC,IAAAc,EAAAhC,EAAAyB,EAAe,IAAAO,KAALhC,EAAA,GAAKkB,EAAAiB,EAAAhC,KAAAe,EAAAc,KAAAP,EAAAP,EAAAc,GAAAhC,EAAAgE,KAAA1B,KAAAwB,UAAA9B,EAAAP,KAA6D,OAAAzB,GAASgC,EAAAJ,UAAAqC,SAAA,SAAA/C,EAAAc,GAAoC,IAAAhC,EAAAc,EAAAiB,EAAsE,IAAAA,KAA5D,MAAAC,MAAA,KAAchC,EAAA,IAAM0D,YAAApB,KAAAI,QAAAgB,YAAwCjC,EAAAzB,EAAA+B,GAAAC,EAAAD,IAAAN,EAAAM,GAA2B,SAAAO,KAAAI,QAAAc,OAAAlB,KAAAwB,UAAA,QAAA5C,EAAAsC,OAAA,MAAAlB,KAAAI,QAAAe,QAAAnB,KAAAwB,UAAA,SAAA5C,EAAAuC,QAAA,oBAAAS,WAAA,OAAAA,WAAAhD,aAAAgD,UAAAlE,EAAAmE,KAAAjD,EAAAiD,UAAgN,uBAAAC,0BAAA,OAAAA,0BAAAlD,aAAAkD,0BAAA,oBAAAC,uBAAA,OAAAA,uBAAAnD,aAAAmD,sBAAArC,EAAA6B,KAAA7D,EAAAmE,KAAA7B,KAAAgC,eAAApD,GAAAlB,EAAAuE,QAAArD,MAA2R,CAAK,SAAAA,EAAAsD,WAAA,UAAAC,MAAA,iBAAuDzC,EAAA6B,KAAA7D,EAAAmE,KAAA7B,KAAAoC,aAAAxD,GAAAlB,EAAA2E,MAAAzD,EAA6C,OAAAJ,EAAAwB,KAAAK,OAAAJ,QAAA,GAAAvC,EAAAmE,OAAA7B,KAAAM,OAAAgC,IAAA5E,EAAAmE,MAAA7B,KAAAM,OAAA/B,IAAAb,EAAAmE,MAAAH,KAAAlD,GAAAwB,KAAAM,OAAAiC,IAAA7E,EAAAmE,KAAA,CAAArD,KAAAwB,KAAAK,OAAAqB,KAAAhE,IAAmJgC,EAAAJ,UAAAkD,OAAA,WAA+B,IAAA9C,EAAAhC,EAAAyB,EAAY,GAAAa,KAAAG,QAAA,UAAAgC,MAAA,mBAAmD,SAAAnC,KAAAI,QAAAc,OAAA,MAAAlB,KAAAI,QAAAe,OAAA,UAAAgB,MAAA,mDAA0H,GAAAnC,KAAAG,SAAA,EAAAH,KAAAyC,UAAA,EAAAzC,KAAA0C,eAAA,EAAA1C,KAAA2C,WAAA,WAAqF,IAAAjD,EAAAhC,EAAAyB,EAAU,IAAAA,EAAA,GAAAO,EAAA,EAAAhC,EAAAsC,KAAAK,OAAAJ,OAAoC,GAAAvC,EAAAgC,EAAAhC,EAAAgC,EAAAhC,EAAa,GAAAA,IAAAgC,MAAAP,EAAAuC,KAAA,MAA4B,OAAAvC,GAAStB,KAAAmC,MAAAtC,EAAAsC,KAAA4C,gBAAA,IAAA5C,KAAAI,QAAAyC,cAAA7C,KAAA8C,uBAAyF,IAAApD,EAAA,EAAAP,EAAAzB,EAAmB,GAAAyB,EAAAO,EAAAP,EAAAO,EAAAP,EAAa,GAAAA,IAAAO,MAAAM,KAAA8C,kBAAsC,OAAA9C,KAAA+C,KAAA,SAAA/C,KAAA+C,KAAA,eAAkDrD,EAAAJ,UAAA0D,MAAA,WAA8B,QAAApE,EAAa,OAAAA,EAAAoB,KAAAS,cAAAwC,UAA8CjD,KAAAkD,IAAA,yBAAAtE,EAAAuE,YAAgD,OAAAnD,KAAAG,SAAA,EAAAH,KAAA+C,KAAA,UAA0CrD,EAAAJ,UAAAsD,aAAA,WAAqC,IAAAhE,EAAAc,EAAAhC,EAAU,OAAAkB,EAAAwE,KAAAC,IAAArD,KAAAI,QAAAU,QAAAd,KAAAK,OAAAJ,QAAA,WAAsEvC,EAAA,GAAK,QAAAyB,EAAAO,EAAAM,KAAAQ,YAAAP,OAAoCP,GAAAd,EAAAO,EAAAP,EAAAO,EAAAP,EAAac,GAAAd,EAAAO,QAAAzB,EAAAgE,KAAAvC,GAAuB,OAAAzB,GAAS4F,MAAAtD,MAAAuD,QAAA,SAAA3E,GAAiC,gBAAAc,GAAmB,IAAAhC,EAAM,OAAAkB,EAAAsE,IAAA,mBAAAxD,IAAAhC,EAAA,IAAA8F,OAAA5E,EAAAwB,QAAAS,eAAA4C,UAAA,SAAA/D,GAAgG,OAAAd,EAAA6B,cAAAiD,OAAA9E,EAAA6B,cAAAV,QAAArC,GAAA,GAAAkB,EAAA4B,YAAAkB,KAAAhE,GAAAkB,EAAA+E,cAAAjE,EAAAmC,MAAA,IAA6GjD,EAAA4B,YAAAkB,KAAAhE,IAAvQ,CAA+RsC,OAAApB,GAAUc,EAAAJ,UAAAqE,cAAA,SAAA/E,EAAAc,GAAyC,IAAAP,EAAAX,EAAAiB,EAAAtB,EAAc,GAAA6B,KAAA0C,iBAAAhD,GAAAP,EAAAa,KAAAK,OAAAN,QAAAnB,GAAAJ,EAAAwB,KAAAM,OAAA/B,IAAAK,EAAAiD,MAAA,GAAA7B,KAAAkD,IAAA,UAAA/D,EAAA,uBAAAX,EAAA,MAAAwB,KAAAS,cAAAR,OAAA,WAAAD,KAAA2C,WAAAxD,GAAA,CAA+LyE,oBAAApF,KAAsBwB,KAAAkD,IAAA,UAAAtE,EAAAiF,MAAA,kBAAA7D,KAAAS,cAAAR,OAAA,WAAAD,KAAA+C,KAAA,WAAA/C,KAAA0C,eAAA1C,KAAAK,OAAAJ,QAAAD,KAAA2C,WAAA/D,EAAAiF,OAAAjF,IAAA,IAAAoB,KAAAI,QAAAyC,gBAAAnD,IAAAM,KAAAI,QAAAyC,cAAAjE,EAAAiE,cAAA7C,KAAAkD,IAAA,2BAAAlD,KAAAK,OAAAJ,OAAA,OAAAR,EAAA,EAAAtB,EAAA6B,KAAAQ,YAAAP,OAA6V,GAAA9B,EAAAsB,EAAAtB,EAAAsB,EAAAtB,EAAa,GAAAA,IAAAsB,MAAAO,KAAA8C,kBAAsC,OAAAhD,EAAAjC,KAAAmC,KAAA2C,WAAA,SAAA3C,KAAA8C,kBAAA9C,KAAA8D,mBAAqFpE,EAAAJ,UAAAwE,gBAAA,WAAwC,IAAAlF,EAAAc,EAAAhC,EAAAyB,EAAAX,EAAAiB,EAAAtB,EAAA0B,EAAAC,EAAAnC,EAAAoG,EAAAvE,EAAAwE,EAAAhG,EAAAD,EAAAkG,EAAAC,EAAApG,EAAAqG,EAAAC,EAA4C,IAAAF,EAAAlE,KAAA2C,WAAAnE,EAAAiB,EAAA,EAAA9B,EAAAuG,EAAAjE,OAAuCR,EAAA9B,EAAIa,IAAAiB,GAAAC,EAAAwE,EAAA1F,IAAAoF,sBAAA5D,KAAA2C,WAAAnE,GAAAwB,KAAA2C,WAAAjD,EAAAkE,sBAAgG,IAAA9D,EAAA,EAAAhC,EAAAkC,KAAA2C,WAAAxE,EAAA,EAAA4F,EAAAjG,EAAAmC,OAAyC9B,EAAA4F,EAAI5F,IAAAuB,EAAA5B,EAAAK,GAAA2B,IAAAJ,EAAAmC,KAAA5B,OAAA,GAAAP,EAAA2E,SAAA3E,EAAA4E,OAAoD,IAAAxE,GAAAJ,EAAA2E,SAAA3E,EAAA4E,OAAAtE,KAAAkD,IAAA,iCAAAE,KAAAmB,MAAAzE,EAAA,WAAAlB,EAAA,IAAA4F,WAAA1E,GAAA/B,EAAA,EAAAoG,EAAAnE,KAAA2C,WAAA9C,EAAA,EAAAL,EAAA2E,EAAAlE,OAAsJJ,EAAAL,EAAIK,IAAA,IAAAH,EAAAyE,EAAAtE,GAAAuE,EAAA1E,EAAAmC,KAAAnE,EAAAM,EAAA,EAAAgG,EAAAI,EAAAnE,OAAyCjC,EAAAgG,EAAItG,IAAAM,EAAAiG,EAAAG,EAAA1G,GAAAkB,EAAA2D,IAAA0B,EAAAlG,MAAAL,IAAAgC,EAAAmC,KAAA5B,OAAA,EAAAP,EAAA4E,OAAA5E,EAAA2E,SAAmE,OAAAlF,EAAA,IAAAsF,KAAA,CAAA7F,GAAA,CAAuB8F,KAAA,cAAiB1E,KAAA+C,KAAA,WAAA5D,EAAAP,IAA4Bc,EAAAJ,UAAAwD,gBAAA,WAAwC,IAAAlE,EAAAc,EAAAhC,EAAAyB,EAAY,OAAAa,KAAAQ,YAAAP,OAAA,UAAAkC,MAAA,mBAAkE,KAAAnC,KAAAyC,WAAAzC,KAAAK,OAAAJ,QAAA,OAAArB,EAAAoB,KAAAK,OAAAL,KAAAyC,cAAA/C,EAAAM,KAAAK,OAAAN,QAAAnB,IAAA,GAAAoB,KAAAM,OAAAgC,IAAA1D,EAAAiD,OAAA7B,KAAAM,OAAA/B,IAAAK,EAAAiD,MAAA,KAAAnC,OAAAiF,WAAA,SAAAjF,GAAkM,kBAAkB,OAAAA,EAAAiE,cAAA/E,GAAA,IAApN,CAAkPoB,MAAA,IAAAb,EAAAa,KAAAQ,YAAAyC,QAAAvF,EAAAsC,KAAA4E,QAAAhG,GAAAoB,KAAAkD,IAAA,mBAAAxF,EAAAmG,MAAA,UAAA7D,KAAAK,OAAAJ,QAAAD,KAAAS,cAAAiB,KAAAvC,KAAA0F,YAAAnH,KAAuKgC,EAAAJ,UAAA0C,eAAA,SAAApD,GAAwC,OAAAA,EAAAwD,aAAA,IAAApC,KAAAI,QAAAc,MAAAlB,KAAAI,QAAAe,QAAAU,MAAuEnC,EAAAJ,UAAA8C,aAAA,SAAAxD,GAAsC,IAAAc,EAAM,aAAAM,KAAAyB,UAAAzB,KAAAyB,QAAAqD,SAAAC,cAAA,UAAA/E,KAAAyB,QAAAP,MAAAlB,KAAAI,QAAAc,MAAAlB,KAAAyB,QAAAN,OAAAnB,KAAAI,QAAAe,SAAAzB,EAAAM,KAAAyB,QAAAuD,WAAA,OAAAC,QAAAjF,KAAAI,QAAAY,WAAAtB,EAAAwF,SAAA,IAAAlF,KAAAI,QAAAc,MAAAlB,KAAAI,QAAAe,QAAAzB,EAAAyF,UAAAvG,EAAA,KAAAoB,KAAAgC,eAAAtC,IAA4TA,EAAAJ,UAAAsF,QAAA,SAAAhG,GAAiC,IAAAc,EAAAhC,EAAQ,GAAAgC,EAAAM,KAAAK,OAAAN,QAAAnB,GAAAlB,EAAA,CAA+BmG,MAAAnE,EAAA0F,KAAA1F,IAAAM,KAAAK,OAAAJ,OAAA,EAAAqB,MAAA1C,EAAA0C,MAAAF,YAAAxC,EAAAwC,YAAAF,MAAAlB,KAAAI,QAAAc,MAAAC,OAAAnB,KAAAI,QAAAe,OAAAF,QAAAjB,KAAAI,QAAAa,QAAAoE,OAAArF,KAAAI,QAAAiF,OAAAxC,cAAA7C,KAAAI,QAAAyC,cAAA9B,OAAAf,KAAAI,QAAAW,OAAAuE,aAAA,GAA6Q,MAAA1G,EAAAiD,KAAAnE,EAAAmE,KAAAjD,EAAAiD,UAA4B,SAAAjD,EAAAqD,QAAAvE,EAAAmE,KAAA7B,KAAAgC,eAAApD,EAAAqD,aAA8D,CAAK,SAAArD,EAAAyD,MAAA,UAAAF,MAAA,iBAAkDzE,EAAAmE,KAAA7B,KAAAoC,aAAAxD,EAAAyD,OAAkC,OAAA3E,GAASgC,EAAAJ,UAAA4D,IAAA,SAAAtE,GAA6B,GAAAoB,KAAAI,QAAAiB,MAAA,OAAAkE,QAAArC,IAAAtE,IAA4Cc,EAAhtL,CAAmtLP,GAAAP,EAAApB,QAAAgB,GAAgB,SAAAI,EAAAc,GAAe,SAAAhC,IAAasC,KAAAwF,QAAAxF,KAAAwF,SAAA,GAA6BxF,KAAAyF,cAAAzF,KAAAyF,oBAAA,EAA+C,SAAAtG,EAAAP,GAAc,yBAAAA,EAAkE,SAAAa,EAAAb,GAAc,uBAAAA,GAAA,OAAAA,EAAmC,SAAAT,EAAAS,GAAc,gBAAAA,EAAkBA,EAAApB,QAAAE,IAAAwC,aAAAxC,IAAA4B,UAAAkG,aAAA,EAAA9H,EAAA4B,UAAAmG,mBAAA,EAAA/H,EAAAgI,oBAAA,GAAAhI,EAAA4B,UAAAqG,gBAAA,SAAA/G,GAA0J,IAAlR,SAAAA,GAAc,uBAAAA,EAAoQJ,CAAAI,MAAA,GAAAgH,MAAAhH,GAAA,MAAAiH,UAAA,+BAAuE,OAAA7F,KAAAyF,cAAA7G,EAAAoB,MAAiCtC,EAAA4B,UAAAyD,KAAA,SAAAnE,GAA8B,IAAAc,EAAAhC,EAAAc,EAAAqB,EAAAC,EAAAnC,EAAgB,GAAAqC,KAAAwF,UAAAxF,KAAAwF,QAAA,IAAiC,UAAA5G,KAAAoB,KAAAwF,QAAAM,OAAArG,EAAAO,KAAAwF,QAAAM,SAAA9F,KAAAwF,QAAAM,MAAA7F,QAAA,CAAyF,IAAAP,EAAAqG,UAAA,cAAA5D,MAAA,MAAAzC,EAA6C,IAAAqE,EAAA,IAAA5B,MAAA,yCAAAzC,EAAA,KAAgE,MAAAqE,EAAA9B,QAAAvC,EAAAqE,EAAoB,GAAA5F,EAAAT,EAAAsC,KAAAwF,QAAA5G,IAAA,SAAmC,GAAAO,EAAAzB,GAAA,OAAAqI,UAAA9F,QAAiC,OAAAvC,EAAAG,KAAAmC,MAAoB,MAAM,OAAAtC,EAAAG,KAAAmC,KAAA+F,UAAA,IAAiC,MAAM,OAAArI,EAAAG,KAAAmC,KAAA+F,UAAA,GAAAA,UAAA,IAA8C,MAAM,QAAAlG,EAAAmG,MAAA1G,UAAA2G,MAAApI,KAAAkI,UAAA,GAAArI,EAAA4F,MAAAtD,KAAAH,QAAkE,GAAAJ,EAAA/B,GAAA,IAAAmC,EAAAmG,MAAA1G,UAAA2G,MAAApI,KAAAkI,UAAA,GAAApI,EAAAD,EAAAuI,QAAAzH,EAAAb,EAAAsC,OAAAH,EAAA,EAAsFA,EAAAtB,EAAIsB,IAAAnC,EAAAmC,GAAAwD,MAAAtD,KAAAH,GAAuB,UAASnC,EAAA4B,UAAA4G,YAAA,SAAAtH,EAAAc,GAAuC,IAAAlB,EAAM,IAAAW,EAAAO,GAAA,MAAAmG,UAAA,+BAAwD,OAAA7F,KAAAwF,UAAAxF,KAAAwF,QAAA,IAAqCxF,KAAAwF,QAAAW,aAAAnG,KAAA+C,KAAA,cAAAnE,EAAAO,EAAAO,EAAA0G,UAAA1G,EAAA0G,SAAA1G,GAAAM,KAAAwF,QAAA5G,GAAAa,EAAAO,KAAAwF,QAAA5G,IAAAoB,KAAAwF,QAAA5G,GAAA8C,KAAAhC,GAAAM,KAAAwF,QAAA5G,GAAA,CAAAoB,KAAAwF,QAAA5G,GAAAc,GAAAM,KAAAwF,QAAA5G,GAAAc,EAAAD,EAAAO,KAAAwF,QAAA5G,MAAAoB,KAAAwF,QAAA5G,GAAAyH,SAAA7H,EAAAL,EAAA6B,KAAAyF,eAAA/H,EAAAgI,oBAAA1F,KAAAyF,gBAAAjH,EAAA,GAAAwB,KAAAwF,QAAA5G,GAAAqB,OAAAzB,IAAAwB,KAAAwF,QAAA5G,GAAAyH,QAAA,EAAAd,QAAAO,MAAA,mIAAA9F,KAAAwF,QAAA5G,GAAAqB,QAAA,mBAAAsF,QAAAe,OAAAf,QAAAe,SAAAtG,MAAilBtC,EAAA4B,UAAAiH,GAAA7I,EAAA4B,UAAA4G,YAAAxI,EAAA4B,UAAAkH,KAAA,SAAA5H,EAAAc,GAAuE,SAAAhC,IAAasC,KAAAyG,eAAA7H,EAAAlB,GAAAc,OAAA,EAAAkB,EAAA4D,MAAAtD,KAAA+F,YAA2D,IAAA5G,EAAAO,GAAA,MAAAmG,UAAA,+BAAwD,IAAArH,GAAA,EAAS,OAAAd,EAAA0I,SAAA1G,EAAAM,KAAAuG,GAAA3H,EAAAlB,GAAAsC,MAAsCtC,EAAA4B,UAAAmH,eAAA,SAAA7H,EAAAc,GAA0C,IAAAhC,EAAAc,EAAAL,EAAA0B,EAAY,IAAAV,EAAAO,GAAA,MAAAmG,UAAA,+BAAwD,IAAA7F,KAAAwF,UAAAxF,KAAAwF,QAAA5G,GAAA,OAAAoB,KAA+C,GAAAtC,EAAAsC,KAAAwF,QAAA5G,GAAAT,EAAAT,EAAAuC,OAAAzB,GAAA,EAAAd,IAAAgC,GAAAP,EAAAzB,EAAA0I,WAAA1I,EAAA0I,WAAA1G,SAAAM,KAAAwF,QAAA5G,GAAAoB,KAAAwF,QAAAiB,gBAAAzG,KAAA+C,KAAA,iBAAAnE,EAAAc,QAA8J,GAAAD,EAAA/B,GAAA,CAAc,IAAAmC,EAAA1B,EAAQ0B,KAAA,GAAO,GAAAnC,EAAAmC,KAAAH,GAAAhC,EAAAmC,GAAAuG,UAAA1I,EAAAmC,GAAAuG,WAAA1G,EAAA,CAAgDlB,EAAAqB,EAAI,MAAM,GAAArB,EAAA,SAAAwB,KAAmB,IAAAtC,EAAAuC,QAAAvC,EAAAuC,OAAA,SAAAD,KAAAwF,QAAA5G,IAAAlB,EAAAgG,OAAAlF,EAAA,GAAAwB,KAAAwF,QAAAiB,gBAAAzG,KAAA+C,KAAA,iBAAAnE,EAAAc,GAA4H,OAAAM,MAAYtC,EAAA4B,UAAAoH,mBAAA,SAAA9H,GAA4C,IAAAc,EAAAhC,EAAQ,IAAAsC,KAAAwF,QAAA,OAAAxF,KAA6B,IAAAA,KAAAwF,QAAAiB,eAAA,WAAAV,UAAA9F,OAAAD,KAAAwF,QAAA,GAA2ExF,KAAAwF,QAAA5G,WAAAoB,KAAAwF,QAAA5G,GAAAoB,KAA8C,OAAA+F,UAAA9F,OAAA,CAAyB,IAAAP,KAAAM,KAAAwF,QAAA,mBAAA9F,GAAAM,KAAA0G,mBAAAhH,GAAuE,OAAAM,KAAA0G,mBAAA,kBAAA1G,KAAAwF,QAAA,GAAgExF,KAAM,GAAAb,EAAAzB,EAAAsC,KAAAwF,QAAA5G,IAAAoB,KAAAyG,eAAA7H,EAAAlB,QAAmD,GAAAA,EAAA,KAAeA,EAAAuC,QAASD,KAAAyG,eAAA7H,EAAAlB,IAAAuC,OAAA,IAAsC,cAAAD,KAAAwF,QAAA5G,GAAAoB,MAAmCtC,EAAA4B,UAAAqH,UAAA,SAAA/H,GAAyC,OAAAoB,KAAAwF,SAAAxF,KAAAwF,QAAA5G,GAAAO,EAAAa,KAAAwF,QAAA5G,IAAA,CAAAoB,KAAAwF,QAAA5G,IAAAoB,KAAAwF,QAAA5G,GAAAqH,QAAA,IAAuGvI,EAAA4B,UAAAsH,cAAA,SAAAhI,GAAuC,GAAAoB,KAAAwF,QAAA,CAAiB,IAAA9F,EAAAM,KAAAwF,QAAA5G,GAAsB,GAAAO,EAAAO,GAAA,SAAiB,GAAAA,EAAA,OAAAA,EAAAO,OAAqB,UAASvC,EAAAkJ,cAAA,SAAAhI,EAAAc,GAA+B,OAAAd,EAAAgI,cAAAlH,KAA2B,SAAAd,EAAAc,GAAe,IAAAhC,EAAAyB,EAAAX,EAAAiB,EAAAtB,EAAcA,EAAA0I,UAAAC,UAAAC,cAAAtH,EAAAoH,UAAAG,SAAAD,cAAArJ,EAAAS,EAAA8I,MAAA,mHAAAzI,EAAA,OAAAd,EAAA,IAAAoH,SAAAoC,cAAA/H,EAAA,CAA4OlB,KAAA,YAAAP,EAAA,GAAAA,EAAA,GAAAA,EAAA,GAAAyJ,QAAA3I,GAAA4I,WAAA,UAAA1J,EAAA,IAAAA,EAAA,GAAAA,EAAA,GAAAA,EAAA,IAAAsJ,SAAA,CAAgG/I,KAAAE,EAAA8I,MAAA,2BAAA9I,EAAA8I,MAAA,sBAAAxH,EAAAwH,MAAA,mCAA+G9H,EAAAlB,OAAA,EAAAkB,IAAAlB,KAAAoJ,SAAAlI,EAAAgI,QAAA,QAAAhI,EAAA6H,SAAA7H,EAAA6H,SAAA/I,OAAA,EAAAW,EAAApB,QAAA2B,sBCAj4U1B,EAAAD,QAAA,WACA,WAAAgG,OAAoBlG,EAAAkC,EAAuB,gDCD3C,SAAS8H,EAAYC,EAAMC,GACzBD,EAAKE,UAAUC,OAAOF,GAGxB,SAASG,EAAkBC,EAAK3I,GACT2I,EACR3I,IAAQ2I,EAAI3I,UAeZ,MAAM4I,EACnBlH,YAAYmH,GACV9H,KAAK8H,MAAQA,EAGfC,gBACE,MAAMC,EAASlD,SAASC,cAAc,UAChCkD,EAAUnD,SAASC,cAAc,OACjCmD,EAAUpD,SAASC,cAAc,UACjCoD,EAAarD,SAASC,cAAc,UACpCqD,EAAKtD,SAASC,cAAc,MAelC,OAdAkD,EAAQR,UAAUY,IAAI,WACtBH,EAAQT,UAAUY,IAAI,MAAO,YAC7BF,EAAWV,UAAUY,IAAI,MAAO,eAChCD,EAAGE,UAAY,eACfJ,EAAQK,UAAY,gGAGpBJ,EAAWI,UAAY,0FAGvBN,EAAQO,YAAYN,GACpBD,EAAQO,YAAYJ,GACpBH,EAAQO,YAAYL,GACpBH,EAAOQ,YAAYP,GACZD,EAGTxF,SACE,MAAMsF,MAAEA,GAAU9H,KACZgI,EAASH,EAAO7I,SACtBgJ,EAAOS,iBAAiB,QA3C5B,SAAuB/I,GACrB,MAAMgJ,OAAEA,GAAWhJ,EACfgJ,EAAOC,QAAQ,eACjBrB,EAAYoB,EAAOC,QAAQ,aAAc,QACzChB,EAAkB3H,KAAM,eAEtB0I,EAAOC,QAAQ,kBACjBrB,EAAYoB,EAAOC,QAAQ,gBAAiB,QAC5ChB,EAAkB3H,KAAM,mBAmCuBd,KAAK4I,IAAQ,GAC5DhD,SAAS8D,KAAKJ,YAAYR,wBCrDf,MAAMa,EACnBd,0BAA0Be,GACxB,MAAMC,EAAQjE,SAASkE,cAAc,oBACjB,IAAhBF,EACFC,EAAMtB,UAAUwB,OAAO,QAEvBF,EAAMtB,UAAUY,IAAI,QAIxBN,sBACE,MAAMmB,EAASpE,SAASC,cAAc,UAGtC,OAFAmE,EAAOZ,UAAY,UACnBY,EAAOzB,UAAUY,IAAI,mBACda,uBC+DX,SAASC,EAAUC,EAAUtB,GAC3B,MAAMuB,EAAOvB,EACPwB,GAAWF,EAASzK,MAP5B,IAAkB4K,EAQhBF,EAAKG,YAAcF,EARHC,EASPD,EAROxE,SAASkE,cAAc,sBAC/BV,kBAAoBiB,IAoB9B,SAASE,EAAiB3B,GACxB,MAAM4B,EAAiB5B,EAEvB,GAtDF,WACE,KAAO6B,OAAOC,YAAc,GAC1BD,OAAOE,aAAaF,OAAOC,aAC3BD,OAAOC,aAAe,EAkDxBE,GAC8C,IAA1CJ,EAAeK,gBAAgB9J,OAEjC,YATqB6E,SAASkE,cAAc,uBAC/BgB,MAAMC,YAAY,mBAAoB,WAUrD,MAAMC,EAAiBR,EAAeK,gBAAgBL,EAAeS,gBAjBvE,IAAyB9H,IAkBP6H,EAjBOpF,SAASkE,cAAc,uBAC/BgB,MAAMC,YAAY,2BAA4B5H,QAlB/D,SAAgCyF,GAC9B,OAAOA,EAAMqC,eAAiB,EAAIrC,EAAMiC,gBAAgB9J,OAAS,EAkC7DmK,CAAuBV,GAGzBA,EAAeS,gBAAkB,EAFjCT,EAAeS,eAAiB,EAIlC,MAAME,EAAO,IAAOX,EAAeF,YACnCG,OAAOC,YAAcjF,WAAW8E,EAAkBY,EAAMX,GAG1D,SAASY,EAAa5K,GACpB,MAAMgJ,OAAEA,GAAWhJ,EACb6K,EAAS7K,EAAEgF,KACX2E,EAAOrJ,KACb,OAAQuK,GACN,IAAK,QAEHpB,EADmBT,EAAOC,QAAQ,yBACZU,GACtB,MAEF,IAAK,QAIH,GAHIX,EAAOC,QAAQ,yBAzEzB,WACE,MAAM6B,EAAU1F,SAASkE,cAAc,uBACnCwB,EAAQC,kBACVD,EAAQC,oBACCD,EAAQE,qBACjBF,EAAQE,uBACCF,EAAQG,wBACjBH,EAAQG,0BACCH,EAAQI,qBACjBJ,EAAQI,sBAiEJC,GAEEnC,EAAOC,QAAQ,oBAAqB,CACtC,MAAMmC,EAAWhG,SAASiG,iBAAiB,kBACrCC,EAAS,IAAIxH,IACbyH,EAhGd,SAAyB5K,GACvB,IAAI4K,EAAU,EAMd,OALA5K,EAAOkD,QAAS2H,IACd,MACMC,EADSD,EAAKlC,cAAc,UACR9H,MACtB+J,EAAUE,IAAYF,EAAUE,KAE/BF,EAyFeG,CAAgBN,GAChC,GAAIE,EAAQ,CACV,MAAMK,EAAM,IAAIC,IAAI,CAClBxK,QAAS,EACTG,QAAS,GACTC,MAAO+J,EACP9J,OAAQ8J,IAEVH,EAASvH,QAASiH,IAChB,IAAIe,EAASf,EAAQxB,cAAc,UAChBuC,EAAOrK,MACT+J,IACfM,EAtHd,SAA0BA,EAAQN,GAChC,MAAMO,EAPR,SAAsBD,GACpB,MAAME,EAAMF,EAAOvG,WAAW,MACxBmG,EAAaI,EAAOG,aAAa,UACvC,OAAOD,EAAIrJ,aAAa,EAAG,EAAG+I,EAAYA,GAIxB/I,CAAamJ,GACzBI,EAAY7G,SAASC,cAAc,UAKzC,OAJA4G,EAAUC,aAAa,QAASX,GAChCU,EAAUC,aAAa,SAAUX,GACrBU,EAAU3G,WAAW,MAC7B6G,aAAaL,EAAW,EAAG,GACxBG,EA+GcG,CAAiBP,EAAQN,IAEpC,IAAI5I,EAAQkJ,EAAOvG,WAAW,MAAM5C,aAAa,EAAG,EAAG6I,EAASA,GAChE5I,EA5IZ,SAA4BA,GAC1B,MAAM0J,EAAe1J,EACrB,IAAK,IAAI3E,EAAI,EAAGA,EAAIqO,EAAalK,KAAK5B,OAAQvC,GAAK,EACpB,IAAzBqO,EAAalK,KAAKnE,KACpBqO,EAAalK,KAAKnE,EAAI,GAAK,IAC3BqO,EAAalK,KAAKnE,EAAI,GAAK,IAC3BqO,EAAalK,KAAKnE,EAAI,GAAK,IAC3BqO,EAAalK,KAAKnE,GAAK,KAG3B,OAAOqO,EAkIWC,CAAmB3J,GAC3BgJ,EAAI1J,SAASU,EAAO,CAAEf,MAAO,IAAO+H,EAAKG,gBAE3C6B,EAAI9E,GAAG,WAAa0F,IAClB,MAAMC,EAAepH,SAASC,cAAc,KACtCoH,EAAYC,IAAIC,gBAAgBJ,GACtCC,EAAaN,aAAa,OAAQO,GAClCD,EAAaN,aAAa,WAAY,YACtCM,EAAaI,UAEfjB,EAAI7I,YAWC,MAAM+J,EACnB5L,YAAYmH,GACV9H,KAAK8H,MAAQA,EAGfC,cAAcD,GACZ,MAAM0E,EAAW1E,EAAM0B,YACjBiD,EAAiB3H,SAASC,cAAc,OACxC2H,EAAkB5H,SAASC,cAAc,OACzC4H,EAAW7H,SAASC,cAAc,SAClC6H,EAAU9H,SAASC,cAAc,QACjC8H,EAAY/H,SAASC,cAAc,OACnC+H,EAAahI,SAASC,cAAc,UACpCgE,EAAQF,EAAMkE,eAmBpB,OAlBAH,EAAQtE,kBAAoBkE,IAC5BG,EAASf,aAAa,OAAQ,SAC9Be,EAASf,aAAa,MAAO,KAC7Be,EAASf,aAAa,MAAO,MAC7Be,EAASf,aAAa,OAAQ,KAC9Be,EAAShO,MAAQ6N,EACjBC,EAAehF,UAAUY,IAAI,WAC7BqE,EAAgBjF,UAAUY,IAAI,qBAC9BsE,EAASlF,UAAUY,IAAI,wBACvBuE,EAAQnF,UAAUY,IAAI,qBACtBwE,EAAUpF,UAAUY,IAAI,sBACxByE,EAAWrF,UAAUY,IAAI,uBACzBqE,EAAgBlE,YAAYoE,GAC5BF,EAAgBlE,YAAYmE,GAC5BF,EAAejE,YAAYsE,GAC3BL,EAAejE,YAAYO,GAC3B0D,EAAejE,YAAYqE,GAC3BJ,EAAejE,YAAYkE,GACpBD,EAGT1E,6BAA6BD,EAAOkF,EAAO,WACzC,MAAMtD,EAAiB5B,EACjBmF,EAAY,GACZC,EAAapI,SAASiG,iBAAiB,mBACvCoC,EAAsBrI,SAASkE,cAAc,0BACnD,IAAKmE,EAGH,OAFAzD,EAAeK,gBAAgB9J,OAAS,OACxC4I,EAAMuE,mBAAmB1D,EAAeK,gBAAgB9J,QAG1D,MAAMoN,EAAeF,EAAoBG,WAC5B,QAATN,EACFtD,EAAeK,gBAAgBrI,KAAK2L,EAAaE,aAC/B,YAATP,IACTE,EAAW3J,QAAS2H,IAClB,MAAMK,EAASL,EAAKoC,WACpBL,EAAUvL,KAAK6J,EAAOgC,eAzJ9B,SAA8BzF,GACLA,EACRiC,gBAAgB9J,OAAS,EAyJpCuN,CAAqB1F,GACrB4B,EAAeK,gBAAkBkD,GAEnCpE,EAAMuE,mBAAmB1D,EAAeK,gBAAgB9J,QAG1D8H,6BAA6BD,GAC3B,MAAMuC,EAAO,IAAOvC,EAAM0B,YAC1BG,OAAOC,YAAcjF,WAAW8E,EAAkBY,EAAMvC,GAG1DtF,SACE,MAAMsF,MAAEA,GAAU9H,KACZyN,EAAUlB,EAAQvN,OAAO8I,GAC/B2F,EAAQhF,iBAAiB,QAAS6B,EAAapL,KAAK4I,IACpD2F,EAAQhF,iBAAiB,QAAS6B,EAAapL,KAAK4I,IACpDhD,SAAS8D,KAAKJ,YAAYiF,ICpO9B,SAASC,EAAYnC,GACnB,MAAMJ,EAAaI,EAAOG,aAAa,UAC3BH,EAAOvG,WAAW,MAC1B2I,UAAU,EAAG,EAAGxC,EAAYA,GAQlC,SAASyC,EAAcxE,EAAUtB,GAC/B,MAAMuB,EAAOvB,EACPwB,GAAWF,EAASzK,MAP5B,IAAmBkP,EAQjBxE,EAAKyE,YAAYC,QAAUzE,EARVuE,EASPvE,EARUxE,SAASkE,cAAc,kBAC/BT,8BAAgCsF,IA0C9C,SAASG,EAAYxD,EAASyD,GAC5B,MAAMC,cAAEA,GAAkBvE,OAAOwE,OAtBnC,IAjC2B3G,EAwDR0G,EAAeD,KAnBlC,SAA2BrG,GACzB,MAAMwG,EAAWxG,EACjBxJ,OAAOiQ,KAAKD,GAAU7K,QAAStE,IAC7BmP,EAASnP,IAAO,IAiBhBqP,CAAkBJ,GAbtB,WACE,MAAMK,EAAazJ,SAASkE,cAAc,gBACtCuF,GAAYA,EAAW9G,UAAUwB,OAAO,UAY1CuF,IA1DuBhH,EA4DJ,SAATgD,EA3DP/C,UAAUC,OAAOF,GAgDxB,SAA0BI,EAAK3I,GACZ2I,EACR3I,IAAQ2I,EAAI3I,GAUrBwP,CAAiBP,EAAeD,GAGlC,SAASS,EAAchP,GACrB,MAAM2J,EAAOrJ,MACL0I,OAAQU,EAAU1E,KAAM6F,GAAW7K,EAsB3C,GArBI0J,EAAST,QAAQ,uBACnBqF,EAAY5E,EAAST,QAAQ,sBAAuB,UAElDS,EAAST,QAAQ,uBACnBqF,EAAY5E,EAAST,QAAQ,sBAAuB,eAElDS,EAAST,QAAQ,eACnBqF,EAAY5E,EAAST,QAAQ,cAAe,QAE1CS,EAAST,QAAQ,yBACnBqF,EAAY5E,EAAST,QAAQ,wBAAyB,iBAEpDS,EAAST,QAAQ,cACnBqF,EAAY5E,EAAST,QAAQ,aAAc,OAEzCS,EAAST,QAAQ,iBACnBqF,EAAY5E,EAAST,QAAQ,gBAAiB,UAE5CS,EAAST,QAAQ,eACnBqF,EAAY5E,EAAST,QAAQ,cAAe,QAE1CS,EAAST,QAAQ,eAAgB,CACnC,IAAK7D,SAASkE,cAAc,UAAW,OACvC,MAAM2F,EAAU,yEAEhB,GADmBhF,OAAOiF,QAAQD,GAClB,CACd,MAAMpD,EAASzG,SAASkE,cAAc,oCAChC6F,EAAQ/J,SAASkE,cAAc,wBACrC0E,EAAYnC,GACZmC,EAAYmB,GACZtC,EAAQuC,sBAAsBzF,IAelC,GAZID,EAAST,QAAQ,kBACnBqF,EAAY5E,EAAST,QAAQ,iBAAkB,WAE7CS,EAAST,QAAQ,yBACnBqF,EAAY5E,EAAST,QAAQ,wBAAyB,gBAEpDS,EAAST,QAAQ,oBACnBqF,EAAY5E,EAAST,QAAQ,mBAAoB,aAE/CS,EAAST,QAAQ,2BACnBqF,EAAY5E,EAAST,QAAQ,0BAA2B,kBAE3C,UAAX4B,GAAsBnB,EAAST,QAAQ,wBAAyB,CAElEiF,EADmBxE,EAAST,QAAQ,wBACVU,GAS5B,GAPID,EAAST,QAAQ,YACnBS,EAAS3B,UAAUY,IAAI,mBACvBvD,SAASkE,cAAc,6BAA6BsD,SAElDlD,EAAST,QAAQ,kBAlGvB,SAAqBb,GACnB,MAAMuB,EAAOvB,EACPiH,EAAoBjK,SAASkE,cAAc,kBAC3CgG,EAAsBlK,SAASkE,cAAc,oBAC7CiG,EAAeC,iBAAiBH,GAAmBI,gBACnDC,EAAiBF,iBAAiBF,GAAqBG,gBAC7DJ,EAAkB/E,MAAMmF,gBAAkBC,EAC1CJ,EAAoBhF,MAAMmF,gBAAkBF,EAC5C5F,EAAKyE,YAAYuB,aAAeD,EA2F9BE,CAAYjG,GAEC,WAAXkB,GAAuBnB,EAAST,QAAQ,6BAA8B,CACxE,MAAM4G,EAAa7P,EAAEgJ,OAAO/J,MAE5B6Q,EAAMC,SAASF,IAIJ,MAAMC,EACnB7O,YAAYmH,GACV9H,KAAK8H,MAAQA,EAGfC,gBACE,MAAM2H,EAAQ5K,SAASC,cAAc,OAC/B4K,EAAc7K,SAASC,cAAc,UACrC6K,EAAc9K,SAASC,cAAc,UACrC8K,EAAO/K,SAASC,cAAc,UAC9B+K,EAAMhL,SAASC,cAAc,UAC7BgJ,EAAUjJ,SAASC,cAAc,OACjCgL,EAASjL,SAASC,cAAc,UAChCiL,EAAgBlL,SAASC,cAAc,UACvCkL,EAAenL,SAASC,cAAc,OACtCmL,EAAUpL,SAASC,cAAc,UACjCoL,EAAerL,SAASC,cAAc,UACtCqL,EAAYtL,SAASC,cAAc,UACnCsL,EAAiBvL,SAASC,cAAc,UACxCuL,EAAOxL,SAASC,cAAc,UAC9BwL,EAAQzL,SAASC,cAAc,UAC/ByL,EAAK1L,SAASC,cAAc,MAiDlC,OAhDAgJ,EAAQxF,UAAY,+GAEpB0H,EAAa1H,UAAY,iKAIzBoH,EAAY/D,aAAa,QAAS,gBAClCgE,EAAYhE,aAAa,QAAS,iBAClCiE,EAAKjE,aAAa,QAAS,iBAC3BkE,EAAIlE,aAAa,QAAS,iBAC1BmE,EAAOnE,aAAa,QAAS,iBAC7BoE,EAAcpE,aAAa,QAAS,iBACpCsE,EAAQtE,aAAa,QAAS,iBAC9BuE,EAAavE,aAAa,QAAS,iBACnCwE,EAAUxE,aAAa,QAAS,iBAChCyE,EAAezE,aAAa,QAAS,iBACrC0E,EAAK1E,aAAa,QAAS,iBAC3B2E,EAAM3E,aAAa,QAAS,iBAC5B8D,EAAMjI,UAAUY,IAAI,SACpBsH,EAAYlI,UAAUY,IAAI,OAAQ,qBAClCuH,EAAYnI,UAAUY,IAAI,OAAQ,qBAClCwH,EAAKpI,UAAUY,IAAI,OAAQ,aAC3B2H,EAAcvI,UAAUY,IAAI,OAAQ,uBACpCyH,EAAIrI,UAAUY,IAAI,OAAQ,YAC1B0F,EAAQtG,UAAUY,IAAI,OAAQ,gBAAiB,WAC/C0H,EAAOtI,UAAUY,IAAI,OAAQ,eAC7BiI,EAAK7I,UAAUY,IAAI,OAAQ,aAC3BkI,EAAM9I,UAAUY,IAAI,OAAQ,cAC5B6H,EAAQzI,UAAUY,IAAI,OAAQ,gBAC9B8H,EAAa1I,UAAUY,IAAI,OAAQ,uBACnC+H,EAAU3I,UAAUY,IAAI,OAAQ,kBAChCgI,EAAe5I,UAAUY,IAAI,OAAQ,yBACrC4H,EAAaxI,UAAUY,IAAI,OAAQ,qBAAsB,WACzDqH,EAAMlH,YAAYuF,GAClB2B,EAAMlH,YAAYsH,GAClBJ,EAAMlH,YAAY8H,GAClBZ,EAAMlH,YAAY+H,GAClBb,EAAMlH,YAAYuH,GAClBL,EAAMlH,YAAY0H,GAClBR,EAAMlH,YAAY2H,GAClBT,EAAMlH,YAAY4H,GAClBV,EAAMlH,YAAY6H,GAClBX,EAAMlH,YAAYgI,GAClBd,EAAMlH,YAAYwH,GAClBN,EAAMlH,YAAYqH,GAClBH,EAAMlH,YAAYmH,GAClBD,EAAMlH,YAAYoH,GAClBF,EAAMlH,YAAYyH,GACXP,EAGTlN,SACE,MAAMsF,MAAEA,GAAU9H,KACZ0P,EAAQF,EAAMxQ,SACpB0Q,EAAMjH,iBAAiB,QAASiG,EAAcxP,KAAK4I,IAAQ,GAC3D4H,EAAMjH,iBAAiB,QAASiG,EAAcxP,KAAK4I,IAAQ,GAC3D4H,EAAMjH,iBAAiB,SAAUiG,EAAcxP,KAAK4I,IAAQ,GAC5DhD,SAAS8D,KAAKJ,YAAYkH,GAG5B3H,gBAAgB0I,GACd,MAAM3I,EAAQ6B,OAAOwE,OACfuC,EAAqB5L,SAASkE,cAAc,qBAAuBlE,SAASkE,cAAc,kBAChG0H,EAAmB1G,MAAMmF,gBAAkBsB,EAC3CC,EAAmBjJ,UAAUwB,OAAO,mBAChCyH,EAAmBjJ,UAAUkJ,SAAS,mBACxC7I,EAAMgG,YAAYuB,aAAeoB,IC5NxB,MAAMG,EACnBjQ,YAAYmH,GACV9H,KAAK8H,MAAQA,EAGfC,2BACE,MAAM8I,EAAc/L,SAASC,cAAc,MAE3C,OADA8L,EAAYpJ,UAAUY,IAAI,QAAS,gBAC5BwI,EAGT9I,cAAc+I,GACZ,MAAMjC,EAAQ/J,SAASC,cAAc,MAC/BgM,EAAYjM,SAASC,cAAc,OACnCiM,EAAclM,SAASC,cAAc,UACrCkM,EAAYnM,SAASC,cAAc,UACnCmM,EAAYpM,SAASC,cAAc,OACnCoM,EAAcrM,SAASC,cAAc,OACrCqM,EAAgBtM,SAASC,cAAc,UAmB7C,OAlBAiM,EAAYpF,aAAa,QAAS,iBAClCqF,EAAUrF,aAAa,QAAS,iBAChCwF,EAAcxF,aAAa,QAAS,MACpCwF,EAAcxF,aAAa,SAAU,MACrCmF,EAAUxI,mBAAqBuI,WAC/BjC,EAAMjD,aAAa,cAAekF,GAClCjC,EAAMpH,UAAUY,IAAI,SACpB0I,EAAUtJ,UAAUY,IAAI,iBACxB2I,EAAYvJ,UAAUY,IAAI,iBAC1B4I,EAAUxJ,UAAUY,IAAI,eACxB6I,EAAUzJ,UAAUY,IAAI,eACxB8I,EAAY1J,UAAUY,IAAI,iBAC1B8I,EAAY3I,YAAY4I,GACxBvC,EAAMrG,YAAYuI,GAClBlC,EAAMrG,YAAYwI,GAClBnC,EAAMrG,YAAYyI,GAClBpC,EAAMrG,YAAY0I,GAClBrC,EAAMrG,YAAY2I,GACXtC,EAGTrM,SACE,MAAMsG,YAAEA,GAAgB9I,KAAK8H,MACvB+G,EAAQ+B,EAAM5R,OAAO8J,EAAc,GACnCI,EAASpE,SAASkE,cAAc,kBACtClE,SAASkE,cAAc,WAAWqI,aAAaxC,EAAO3F,IC5C3C,MAAMoI,EACnBvJ,sBAAsBwJ,GACpB,MAAMpG,EAAaoG,EAAW7F,aAAa,UAErC8F,EADiBD,EAAWE,WACIzI,cAAc,+BAC9C0I,EAAmBF,EAAexI,cAAc,qBAChD2I,EAAmBH,EAAexI,yBAAyBmC,OACjEuG,EAAiB9F,aAAa,WAAY,SAC1C+F,EAAiB/F,aAAa,WAAY,QAG5C7D,uBAAuB6J,EAAGzN,GACxB,MAAMkJ,EAAevI,SAASkE,cAAc,6BACtC6I,EAAcxE,EAAarE,cAAc,kBACzC8I,EAAczE,EAAarE,cAAc,kBAC/C6I,EAAYvJ,UAAYsJ,EACxBE,EAAYxJ,UAAYnE,EAG1B4D,gBACE,MAAMgK,EAAgBjN,SAASC,cAAc,OACvCiN,EAAoBlN,SAASC,cAAc,OAC3CkN,EAAoBnN,SAASC,cAAc,OAC3CoG,EAAarG,SAASC,cAAc,UAgB1C,OAfAiN,EAAkBzJ,UAAY,sHAK9B0J,EAAkB1J,UAAY,uBAC9B4C,EAAW5C,UAAY,yHAGvBwJ,EAActK,UAAUY,IAAI,kBAC5B2J,EAAkBvK,UAAUY,IAAI,8BAChC4J,EAAkBxK,UAAUY,IAAI,uBAChC4J,EAAkBzJ,YAAY2C,GAC9B4G,EAAcvJ,YAAYwJ,GAC1BD,EAAcvJ,YAAYyJ,GACnBF,GCJX,SAASG,EAAa3G,GACpB,MAAMjH,EAtBR,SAAsBiH,GACpB,MAAM2C,cAAEA,EAAFJ,YAAiBA,GAAgBnE,OAAOwE,OACxC7J,EAASQ,SAASC,cAAc,OAChCoN,EAAkB5G,EAAO6G,aACzBjH,EAAaI,EAAOG,aAAa,UACvC,IAAI2G,GAAc,GACdtE,QAAEA,GAAYD,EAClB,MAAMwE,EAAe,CAAC,SAAU,cAAe,OAAQ,UAAW,eAAgB,YAAa,kBAC/FlU,OAAOmU,QAAQrE,GAAe3K,QAASiP,IACjCF,EAAaG,SAASD,EAAM,MAAQH,IACrB,IAAbG,EAAM,KAAaH,GAAc,KAGrCA,IAAatE,EAAU,GAC3B,MAAM2E,EAAcP,EAAkBhH,EAAc4C,EAIpD,OAHAzJ,EAAOmD,UAAUY,IAAI,UACrB/D,EAAO0F,MAAMC,YAAY,YAAayI,OACtCpO,EAAO0F,MAAMC,YAAY,WAAYyI,OAC9BpO,EAIQqO,CAAapH,GACHzG,SAASkE,cAAc,6BAC/BR,YAAYlE,GAmB/B,SAASsO,EAAcC,EAAMhF,GAC3BgF,EAAKjH,aAAa,QAASiC,GAC3BgF,EAAKjH,aAAa,SAAUiC,GAG9B,SAASzL,EAAamJ,GACpB,MAAME,EAAMF,EAAOvG,WAAW,MACxBmG,EAAaI,EAAOG,aAAa,UACvC,OAAOD,EAAIrJ,aAAa,EAAG,EAAG+I,EAAYA,GAiB5C,SAAS2H,EAAkBtH,EAAWuH,GACdjO,SAASkE,iBAAiB+J,YACnB/J,cAAc,UACxBhE,WAAW,MAC1B6G,aAAaL,EAAW,EAAG,GAuKjC,SAASlB,EAAa5K,GACpB,MAAQgJ,OAAQU,EAAU1E,KAAM6F,GAAW7K,EACrC2J,EAAOrJ,MACPkO,cAAEA,GAAkB7E,EAC1B,OAAQkB,GACN,IAAK,QACH,IAAKnB,EAAST,QAAQ,UAAW,MACjC,GAAIuF,EAAc0B,YAAa,CAC7B,MAAMoD,EAjMd,SAAwBzH,GACtB,MAAME,EAAMF,EAAOvG,WAAW,MACxBqI,EAAevI,SAASkE,cAAc,6BACtC6I,EAAcxE,EAAarE,cAAc,kBAAkBV,UAC3DwJ,EAAczE,EAAarE,cAAc,kBAAkBV,UAC3D2K,EAAYxH,EAAIrJ,aAAayP,EAAaC,EAAa,EAAG,GAAGjQ,KACnE,IAAIqR,EAAW,GAKf,OAJAD,EAAU1P,QAAS2H,IACjB,MAAMiI,EAAMC,OAAOlI,GAAMmI,SAAS,IAClCH,GAAoB,MAARC,EAAc,KAAOA,QAEV,IAAbD,EAAiB,WAAaA,IAsLZI,CAAelK,GACvCoG,EAAMC,SAASuD,GAEjB,MAEF,IAAK,YAAa,CAChB,IAAK5J,EAAST,QAAQ,UAAW,MACjC,MAAMmH,IACJA,EADIQ,KACCA,EADDP,OACOA,EADPG,QACeA,EADfE,UACwBA,EADxBD,aACmCA,EADnCE,eACiDA,EADjDR,KACiEA,EADjEG,cACuEA,GACzE9B,EACEqF,EAAa,CAAE3B,EAAG,KAAMzN,EAAG,KAAMqP,YAAapR,EAAagH,IAC3DiE,EAAevI,SAASkE,cAAc,6BAO5C,GANAuK,EAAW3B,GAAKvE,EAAarE,cAAc,kBAAkBV,UAC7DiL,EAAWpP,GAAKkJ,EAAarE,cAAc,kBAAkBV,WACzD8H,GAAaF,GAAWI,KAC1BiD,EAAW3B,GAAK,GAChB2B,EAAWpP,GAAK,IAGhB2L,GAAOQ,GAAQP,GAAUG,GACtBE,GAAaD,GAAgBE,GAC7BR,GAAQG,EACX,CACA3G,EAAKyE,YAAY2F,QAAS,EACXrK,EAAST,QAAQ,UACzB+K,YAAezH,KAjK9B,SAAcvM,EAAG6T,GACf,MAAMzF,YAAEA,EAAFI,cAAeA,EAAfyF,aAA8BA,GAAiBhK,OAAOwE,OACtD/E,EAAW1J,EAAEgJ,OACb+C,EAAMrC,EAASpE,WAAW,MAC1B4O,EAAQ,CAAEhC,EAAG,EAAGzN,EAAG,EAAG0P,MAAO,GAC7B1I,EAAa/B,EAASsC,aAAa,SACnCoI,EAAmB1K,EAAS2K,YAIlC,GAHAH,EAAMC,MAAQC,EAAmB3I,EACjCyI,EAAMhC,EAAIxO,KAAK4Q,KAAKtU,EAAEuU,QAAUL,EAAMC,OACtCD,EAAMzP,EAAIf,KAAK4Q,KAAKtU,EAAEwU,QAAUN,EAAMC,OAClC3F,EAAc8B,cAAe,CAC/BvE,EAAI0I,YACJP,EAAMhC,GAAK,EACXgC,EAAMzP,GAAK,EACX,MAAMiQ,EAAQ3I,EAAIrJ,aAAawR,EAAMhC,EAAGgC,EAAMzP,EAAG2J,EAAYC,QAASD,EAAYC,SAClFqG,EAAMvS,KAAK0B,QAAQ,CAAC2H,EAAMrH,KACxB,IAAIwQ,EAAU,KACO,UAAjBV,GACFU,GAAWjR,KAAKmB,MAAM,EAAIuJ,EAAYC,SACzB,IAAT7C,IAAYmJ,EAAU,KAE1BA,EAAUjR,KAAKmB,MAAM,EAAIuJ,EAAYC,SACxB,MAAT7C,IAAcmJ,EAAU,KAEzBxQ,EAAQ,GAAK,GAAM,IACtBuQ,EAAMvS,KAAKgC,GAASqH,EAAOmJ,KAG/B5I,EAAIkC,UAAUiG,EAAMhC,EAAGgC,EAAMzP,EAAG2J,EAAYC,QAASD,EAAYC,SACjEtC,EAAII,aAAauI,EAAOR,EAAMhC,EAAGgC,EAAMzP,GAEzC,GAAI+J,EAAc2B,KAAM,CACtBpE,EAAI0I,YACJ1I,EAAIkC,UAAU,EAAG,EAAGxC,EAAYA,GAChC,MAAMmJ,EAASV,EAAMhC,EAAI2B,EAAW3B,GAAKgC,EAAMhC,EAAI2B,EAAW3B,EAAI,GAC5D2C,EAASX,EAAMzP,EAAIoP,EAAWpP,GAAKyP,EAAMzP,EAAIoP,EAAWpP,GAAK,IAAO,GAC1EsH,EAAII,aAAa0H,EAAWC,YAAac,EAAQC,GA6BnD,GA3BIrG,EAAc6B,SAChBtE,EAAI0I,YACJP,EAAMhC,GAAK,EACXgC,EAAMzP,GAAK,EACXsH,EAAI+I,UAAY1G,EAAYuB,aAC5B5D,EAAIkC,UAAUiG,EAAMhC,EAAGgC,EAAMzP,EAAG2J,EAAYC,QAASD,EAAYC,UAE/DG,EAAc4B,MAChBrE,EAAI0I,YACJ1I,EAAI+I,UAAY1G,EAAYuB,aAC5BuE,EAAMhC,GAAK,EACXgC,EAAMzP,GAAK,EACXsH,EAAIvG,SAAS0O,EAAMhC,EAAGgC,EAAMzP,EAAG2J,EAAYC,QAASD,EAAYC,UAE9DG,EAAcoC,OAChB7E,EAAIkC,UAAU,EAAG,EAAGxC,EAAYA,GAChCM,EAAII,aAAa0H,EAAWC,YAAa,EAAG,GAC5C/H,EAAI0I,YACJP,EAAMhC,GAAK,GACXgC,EAAMzP,GAAK,GACXsH,EAAI+I,UAAY,YAChB/I,EAAIgJ,YAAc3G,EAAYuB,aAC9B5D,EAAIiJ,UAAY5G,EAAYC,QAC5BtC,EAAIkJ,OAAOpB,EAAW3B,EAAG2B,EAAWpP,GACpCsH,EAAImJ,OAAOhB,EAAMhC,EAAI,EAAGgC,EAAMzP,EAAI,GAClCsH,EAAIoJ,UAEF3G,EAAcgC,SAAWhC,EAAciC,aAAc,CACvD1E,EAAI0I,YACJ1I,EAAIkC,UAAU,EAAG,EAAGxC,EAAYA,GAChCM,EAAII,aAAa0H,EAAWC,YAAa,EAAG,GACxCtF,EAAcgC,UAChB0D,EAAMhC,GAAK,GACXgC,EAAMzP,GAAK,IAEb,MAAM2Q,IAAalB,EAAMhC,EAAI2B,EAAW3B,IAAM,GAAOgC,EAAMzP,EAAIoP,EAAWpP,IAAM,IAAO,GACjF4Q,EAA2B,UAAjBpB,EAA2BmB,EAAS1R,KAAK4R,IAAIpB,EAAMhC,EAAI2B,EAAW3B,GAClF,IAAIqD,EAA2B,UAAjBtB,EAA2BoB,EAAU3R,KAAK4R,IAAIpB,EAAMzP,EAAIoP,EAAWpP,GAC7E+J,EAAcgC,UAChBzE,EAAI+I,UAAY,YAChB/I,EAAIgJ,YAAc3G,EAAYuB,aAC9B5D,EAAIiJ,UAAY5G,EAAYC,QAC5BtC,EAAIyE,QAAQqD,EAAW3B,EAAG2B,EAAWpP,EAAG4Q,EAASE,EAAS,EAAG,EAAI7R,KAAK8R,IAAI,GAC1EzJ,EAAIoJ,UAEF3G,EAAciC,eAChB1E,EAAI+I,UAAY1G,EAAYuB,aAC5B5D,EAAIiJ,UAAY,EACK,UAAjBf,IACFsB,EAAWrB,EAAMzP,EAAIoP,EAAWpP,EAAK8Q,EAAUA,EAAU,GAE3DxJ,EAAIyE,QAAQqD,EAAW3B,EAAG2B,EAAWpP,EAAG4Q,EAASE,EAAS,EAAG,EAAI7R,KAAK8R,IAAI,IAG9E,GAAIhH,EAAckC,WAAalC,EAAcmC,eAAgB,CAC3D5E,EAAI0I,YACJ1I,EAAIkC,UAAU,EAAG,EAAGxC,EAAYA,GAChCM,EAAII,aAAa0H,EAAWC,YAAa,EAAG,GACxCtF,EAAckC,YAChBwD,EAAMhC,GAAK,GACXgC,EAAMzP,GAAK,IAEb,IAAIgR,EAAavB,EAAMzP,EAAIoP,EAAWpP,EAClCiR,EAAYxB,EAAMhC,EAAI2B,EAAW3B,EACjC1D,EAAckC,YACK,UAAjBuD,IACFyB,EAAaxB,EAAMhC,EAAI2B,EAAW3B,GAAMuD,EAAaA,EACrDC,EAAYxB,EAAMzP,EAAIoP,EAAWpP,GAAKiR,EAAYA,GAEpD3J,EAAI+I,UAAY,YAChB/I,EAAIgJ,YAAc3G,EAAYuB,aAC9B5D,EAAIiJ,UAAY5G,EAAYC,QAC5BtC,EAAI4J,KAAK9B,EAAW3B,EAAG2B,EAAWpP,EAAGiR,EAAWD,GAChD1J,EAAIoJ,UAEF3G,EAAcmC,iBAChB8E,EAAavB,EAAMzP,EAAIoP,EAAWpP,EAAIgR,EAAaA,EAAa,EAChEC,EAAaxB,EAAMhC,EAAI2B,EAAW3B,EAAKwD,EAAY,EAAIA,EAClC,UAAjBzB,IACFyB,EAAaxB,EAAMhC,EAAI2B,EAAW3B,GAAMuD,EAAaA,EACrDC,EAAYxB,EAAMzP,EAAIoP,EAAWpP,GAAKiR,EAAYA,GAEpD3J,EAAI+I,UAAY1G,EAAYuB,aAC5B5D,EAAIiJ,UAAY,EAChBjJ,EAAI4J,KAAK9B,EAAW3B,EAAG2B,EAAWpP,EAAGiR,EAAWD,IAGpD1J,EAAI6J,OAoCiCC,CAAKtJ,EAAIsH,IAE1C,MAEF,IAAK,YACH,IAAKnK,EAAST,QAAQ,UAAW,OA7LvC,SAAyBjJ,GACvB,MAAMwN,EAAaxN,EAAEgJ,OAAOC,QAAQ,gBAC9B6M,EAAgBtG,iBAAiBhC,GACjCiF,EAAkBzS,EAAEgJ,OAAO0J,aAC3BjH,EAAazL,EAAEgJ,OAAOgD,aAAa,UACnC+J,EAAiBpO,SAASmO,EAAcE,KAAM,IAC9CC,EAAgBtO,SAASmO,EAAcI,IAAK,IAC5CC,EAAkB1D,EAAkBhH,EAC1C,IAAI2K,EAAe1S,KAAK4Q,MAAMtU,EAAEqW,QAAUN,GAAkBI,GAAmB,EAC3EG,EAAe5S,KAAK4Q,MAAMtU,EAAEuW,QAAUN,GAAiBE,GAAmB,EAC1EC,EAAe,EACjBA,EAAe,EACNA,EAAe3K,EAAa,IACrC2K,EAAe3K,EAAa,GAE1B6K,EAAe,EACjBA,EAAe,EACNA,EAAe7K,EAAa,IACrC6K,EAAe7K,EAAa,GAE9BmG,EAAc4E,gBAAgBJ,EAAcE,GA0KxCG,CAAgBzW,GApPtB,SAAoBA,GAClB,MAAM4E,EAASQ,SAASkE,cAAc,WAChC4K,EAAQ,CAAEhC,EAAG,EAAGzN,EAAG,EAAG0P,MAAO,GACnCD,EAAMhC,EAAIlS,EAAEuU,QACZL,EAAMzP,EAAIzE,EAAEwU,QACZ5P,EAAO0F,MAAM4L,OAAShC,EAAMzP,MAC5BG,EAAO0F,MAAM0L,QAAU9B,EAAMhC,MA+OzBwE,CAAW1W,GACX,MAEF,IAAK,YACH,IAAK0J,EAAST,QAAQ,UAAW,MACjCuJ,EAAa9I,GACb,MAEF,IAAK,WACL,IAAK,UAAW,CAId,GAHIA,EAAST,QAAQ,WAAwB,aAAX4B,GAtQxC,WACE,MAAMjG,EAASQ,SAASkE,cAAc,WACjC1E,GACUA,EAAOmN,WACf4E,YAAY/R,GAmQbgS,IAEGjN,EAAKyE,YAAY2F,OAAQ,MAC9B,MAAMlI,EAASzG,SAASkE,cAAc,oCACtCuC,EAAOmI,YAAc,KAErBZ,EADkB1Q,EAAamJ,GACF,UAC7BgB,EAAQuC,sBAAsBzF,GAC9BkD,EAAQgK,sBAAsBlN,GAnT9BM,OAAO6M,eACL7M,OAAO6M,eAAeC,MACxB9M,OAAO6M,eAAeC,QACb9M,OAAO6M,eAAeE,iBAC/B/M,OAAO6M,eAAeE,mBAiTtBrN,EAAKyE,YAAY2F,QAAS,EAC1B,MAEF,IAAK,UApOT,SAA0BrK,GACxB,MAAMuN,EAAiBvN,EAAST,QAAQ,sBAClCiO,EAAiBD,EAAejL,aAAa,sBAC7CmD,EAAQ/J,SAASkE,qCAAqC4N,OACtDrL,EAASoL,EAAe3N,cAAc,UACtC6N,EAAgBhI,EAAM7F,cAAc,UACpCwC,EAAYpJ,EAAamJ,GAC/BqH,EAAciE,EAAezN,EAASzK,OACtCiU,EAAcrH,EAAQnC,EAASzK,OAC/BmU,EAAkBtH,EAAW,UAC7BsH,EAAkBtH,EAAW,sBA2NzBsL,CAAiB1N,GACjBmD,EAAQuC,sBAAsBzF,GAC9BkD,EAAQgK,sBAAsBlN,IASrB,MAAM0N,EACnBpW,YAAYmH,GACV9H,KAAK8H,MAAQA,EAGfC,cAAc+I,GACZ,MAAMvF,EAASzG,SAASC,cAAc,UAChCgN,EAAgBT,EAActS,SAC9BgY,EAAgBlS,SAASC,cAAc,MAM7C,OALAiS,EAAcvP,UAAUY,IAAI,qBAC5BuK,EAAcrH,EAAQ,IACtByL,EAAcpL,aAAa,qBAAsBkF,GACjDkG,EAAcxO,YAAY+C,GAC1ByL,EAAcxO,YAAYuJ,GACnBiF,EAGTjP,2BAA2BD,GACzB,MAAMoF,EAAapI,SAASC,cAAc,MAC1CmI,EAAWzF,UAAUY,IAAI,eACzB6E,EAAWzE,iBAAiB,YAAa6B,EAAapL,KAAK4I,IAAQ,GACnEoF,EAAWzE,iBAAiB,YAAa6B,EAAapL,KAAK4I,IAAQ,GACnEoF,EAAWzE,iBAAiB,UAAW6B,EAAapL,KAAK4I,IAAQ,GACjEoF,EAAWzE,iBAAiB,WAAY6B,EAAapL,KAAK4I,IAAQ,GAClEoF,EAAWzE,iBAAiB,YAAa6B,EAAapL,KAAK4I,IAAQ,GACnEoF,EAAWzE,iBAAiB,QAAS6B,EAAapL,KAAK4I,IAAQ,GAC/DoF,EAAWzE,iBAAiB,SAAU6B,EAAapL,KAAK4I,IAAQ,GAChEhD,SAAS8D,KAAKJ,YAAY0E,GAG5BnF,kBAAkBwD,EAAQ7C,GACxB,MAAMyC,EAAaI,EAAOG,aAAa,UAEjCF,EADMD,EAAOvG,WAAW,MACR5C,aAAa,EAAG,EAAG+I,EAAYA,GACnCzC,EAAO1D,WAAW,MAC1B6G,aAAaL,EAAW,EAAG,GACrCsH,EAAkBtH,EAAW,UAG/BzD,8BACOjD,SAASiG,iBAAiB,uBAC/BjG,SAASiG,iBAAiB,sBAAsBxH,QAAQ,CAAC2H,EAAMrH,KAC7DqH,EAAKU,aAAa,qBAAsB/H,EAAQ,KAIpDrB,SACE,MAAMsF,MAAEA,GAAU9H,KACZgX,EAAgBD,EAAO/X,OAAO8I,EAAMgB,aACvBhE,SAASkE,cAAc,gBAC/BR,YAAYwO,ICtX3B,SAASC,EAAcC,GACrB,OAAiB,IAAVA,EAGT,SAASC,IACFrS,SAASiG,iBAAiB,WAC/BjG,SAASiG,iBAAiB,UAAUxH,QAAQ,CAAC2H,EAAMrH,KAC7BqH,EAAKlC,cAAc,uBAC3BV,UAAYzE,EAAQ,EAChCqH,EAAKU,aAAa,cAAe/H,EAAQ,KAI7C,SAASuT,EAAiBC,EAAQvP,GAChC,MAAM4B,EAAiB5B,EACR,QAAXuP,IAAkB3N,EAAeZ,aAAe,GACrC,WAAXuO,IACGJ,EAAcvN,EAAeZ,aAGhCY,EAAeZ,YAAc,EAF7BY,EAAeZ,aAAe,GAYpC,SAASwO,EAAW/P,EAAMgQ,GACxBzS,SAASkE,cAAcuO,GAAgBlB,YAAY9O,GAGrD,SAASiQ,EAASjQ,EAAMgQ,GACtB,MAAME,EAAWlQ,EAAKmQ,WAAU,GAC1BC,EAAWpQ,EAAKqQ,YACtB9S,SAASkE,cAAcuO,GAAgBlG,aAAaoG,EAAUE,GAQhE,SAASnJ,EAAkBqJ,GACzB,MAAMC,EAAchT,SAASkE,iBAAiB6O,YAC1CC,GAAaA,EAAYrQ,UAAUwB,OAAO,UAGhD,SAAS8O,EAAexQ,EAAMO,GAC5B,MAAMiJ,GAAaxJ,EAAKmE,aAAa,eACrC8C,EAAkB,UAClBjH,EAAKE,UAAUY,IAAI,UAbrB,SAA6B2P,EAAMlQ,GACbA,EACRmQ,aAAeD,EAY3BE,CAAoBnH,EAAWjJ,GAGjC,SAASqQ,EAAYjP,EAAQpB,IAhC7B,SAAoBA,GACJ,IAAI8I,EAAM9I,GAClBtF,SA+BN4V,CAAWtQ,GACXsP,EAAiB,MAAOtP,GAExBiQ,EADiB7O,EAAOmP,gBACCvQ,GAuD3B,SAASwQ,IACP,MAAMR,EAAchT,SAASkE,cAAc,iBAC3C,IAAK8O,EAAa,OAClB,MAAMS,EAAkBT,EAAYpM,aAAa,eAC3CsL,EAAgBlS,SAASkE,sCAAsCuP,OACrE/J,EAAkB,sBAClBwI,EAAcvP,UAAUY,IAAI,UA0B9B,SAASmQ,EAAsBC,EAAiBC,GAC9C,MAAMxL,EAAapI,SAASkE,cAAc,gBACpC2P,EAAc7T,SAASkE,sCAAsCyP,OAC7DG,EAAa9T,SAASkE,sCAAsC0P,OAC5DG,EAAoB3L,EAAWmJ,YAAYsC,GACjDzL,EAAWmE,aAAawH,EAAmBD,GAkC7C,SAASE,EAAcpZ,EAAGmP,EAAOkK,GAC/B,MAAMC,EAAiBnK,EACjBoK,EAASD,EAAetN,aAAa,gBAErCwN,GADOxZ,EAAEuW,SACagD,EAEtBE,EArCR,SAAsBC,EAAWvK,GAC/B,MAAMwK,EAAWxK,EAAMwJ,gBAAkBxJ,EAAMwJ,gBAAkB,KAC3DiB,EAAWzK,EAAM+I,YAAYA,YAAYnQ,UAAUkJ,SAAS,SAAW9B,EAAM+I,YAAYA,YAAc,KAC7G,OAAIwB,EAAU3G,SAAS4G,GAAkBA,EACrCD,EAAU3G,SAAS6G,GAAkBA,EAClC,KAgCgBC,CADJzU,SAAS0U,kBAAkB9Z,EAAEqW,QAASrW,EAAEuW,SACXpH,GAC5CsK,GAzBN,SAA2BH,EAAgBG,GACzC,MAAMM,EAAYT,EAAevH,WAC3BiI,EAAa5U,SAASkE,cAAc,iBAC1C,GAAqCmQ,IAAhBH,EAPKX,gBAO4B,CACpD,MAAMM,EAAcc,EAAUpD,YAAY8C,GACpCV,EAAkBE,EAAYjN,aAAa,eAC3CgN,EAAiBgB,EAAW9B,YAAYlM,aAAa,eAC3D+N,EAAUpI,aAAasH,EAAae,EAAW9B,aAC/CY,EAAsBC,EAAiBC,OAClC,CACL,MAAMC,EAAcc,EAAUpD,YAAY8C,GACpCV,EAAkBE,EAAYjN,aAAa,eAC3CgN,EAAiBM,EAAetN,aAAa,eACnD+N,EAAUpI,aAAasH,EAAaK,GACpCR,EAAsBC,EAAiBC,IAWrBiB,CAAkBX,EAAgBG,GACtDH,EAAehP,MAAM4L,OAASmD,EAAWG,MAG3C,SAASU,EAAQla,GACf,MAAMsZ,EAAiBlU,SAASkE,cAAc,cACxC6Q,EAAclQ,OAAOwE,QAW7B,SAAyBzO,GACvB,MAAMoa,EAAapa,EAAEgJ,OAAOC,QAAQ,WACpCmR,EAAWpG,YAAc,KACzBoG,EAAWC,oBAAoB,aAAcH,GAC7CE,EAAWC,oBAAoB,UAAWH,GAb1CI,CAAgBta,GAtElB,WACE,MAAMmR,EAAc/L,SAASkE,cAAc,iBAC3C6H,EAAYY,WAAW4E,YAAYxF,GAqEnCoJ,GACAjB,EAAepN,aAAa,QAAS,IACrCoN,EAAevR,UAAUwB,OAAO,aAChCkO,IACAJ,EAAOmD,uBACP3N,EAAQuC,sBAAsB+K,GAUhC,SAASnL,EAAchP,GACrB,MAAMgJ,OAAEA,GAAWhJ,EACb2J,EAAOrJ,KACPma,EAAYza,EAAEgF,KAOpB,GANIgE,EAAOC,QAAQ,mBAAmC,UAAdwR,IACtChC,EAAYzP,EAAOC,QAAQ,kBAAmBU,GAjIjC,IAAI0N,EAkIJ1N,GAjIR7G,SAkIL8V,IACA/L,EAAQuC,sBAAsBzF,EAAM,QAElCX,EAAOC,QAAQ,mBAAmC,UAAdwR,EAKtC,OAzKJ,SAAqBtL,EAAO/G,GAC1B,MAAM+R,EAAc/R,EACd6P,EAAW9I,EAAMwJ,gBACjB+B,EAAWvL,EAAM+I,YAIvB,GAHAN,EAAWzI,EAAO,WAClBuI,EAAiB,SAAUyC,GAC3B1C,IACItI,EAAMpH,UAAUkJ,SAAS,UAAW,CACtC,MAAMmH,EAAcH,GAAYyC,EAC5BtC,IAAgBb,EAAc4C,EAAY/Q,cAC5CiP,EAAeD,EAAa+B,QAI9B9B,EADoBjT,SAASkE,cAAc,iBACf6Q,GAE1B5C,EAAc4C,EAAY/Q,eAC5B+Q,EAAY5B,aAAe,MAoJ3BoC,CAAY3R,EAAOC,QAAQ,UAAWU,GAnI1C,SAAsBwF,GACpB,MAAMyL,EAAkBzL,EAAMnD,aAAa,eAE3C4L,EADexS,SAASkE,sCAAsCsR,OAC3C,gBACnBvD,EAAOmD,uBAgILK,CAAa7R,EAAOC,QAAQ,WAC5B2P,SACA/L,EAAQuC,sBAAsBzF,GAGhC,GAAIX,EAAOC,QAAQ,iBAAiC,UAAdwR,EAKpC,OA3JJ,SAAmBtL,EAAO/G,GACxB0P,EAAS3I,EAAO,WAChBuI,EAAiB,MAAOtP,GACxBqP,IAEAY,EADiBlJ,EAAM+I,YACE9P,GAkJvB0S,CAAU9R,EAAOC,QAAQ,UAAWU,GAnIxC,SAA4BwF,GAC1B,MAAM4L,EAAgB5L,EAAMnD,aAAa,eACnCsL,EAAgBlS,SAASkE,sCAAsCyR,OAC/DlP,EAASzG,SAASkE,sCAAsCyR,OAAmBnN,WACjFkK,EAASR,EAAe,gBACxB,MAAMrL,EAAY7G,SAASiG,yCAAyC0P,OAAmB,GAAGnN,WAC1FgE,EAAcoJ,eAAe/O,GAC7BoL,EAAO4D,WAAWpP,EAAQI,GAC1BoL,EAAOmD,uBA4HLU,CAAmBlS,EAAOC,QAAQ,WAClC2P,SACA/L,EAAQuC,sBAAsBzF,GAOhC,GAJIX,EAAOC,QAAQ,WAA2B,UAAdwR,IAC9BpC,EAAerP,EAAOC,QAAQ,UAAWU,GACzCiP,KAEE5P,EAAOC,QAAQ,iBAAiC,cAAdwR,EAA2B,CAC/D,MAAMtL,EAAQnG,EAAOC,QAAQ,UACvBmR,EAAapR,EAAOC,QAAQ,YA3HtC,SAA2B0Q,GACzB,MAAMxI,EAAcD,EAAMiK,oBACpBvB,EAAWD,EAASzB,YACPyB,EAAS5H,WACjBJ,aAAaR,EAAayI,GAwHnCwB,CAAkBjM,GAhHtB,SAAwBA,GACtB,MAAMmK,EAAiBnK,EACjBiL,EAAad,EAAevH,WAC5BsJ,EAAkBpR,OAAOuF,iBAAiB4K,GAE1CkB,EADWhC,EAAeiC,wBAAwBrF,IAEtCvO,SAAS0T,EAAgBnF,IAAK,IAAMkE,EAAWoB,WAAa,EAE9ElC,EAAehP,MAAMC,YAAY,SAAU+Q,OAyGzCG,CAAetM,GACf,MAAMkK,EAAW1R,SAASwH,EAAM7E,MAAM4L,IAAK,IAC3C/G,EAAMpH,UAAUY,IAAI,aACpBwG,EAAMjD,aAAa,eAAgBlM,EAAEuW,SACrC6D,EAAWpG,YAAezH,IACxB6M,EAAc7M,EAAI4C,EAAOkK,IAE3Be,EAAWrR,iBAAiB,aAAcmR,GAC1CE,EAAWrR,iBAAiB,UAAWmR,IAI5B,MAAMwB,EACnBza,YAAYmH,GACV9H,KAAK8H,MAAQA,EAGfC,gBACE,MAAM+R,EAAahV,SAASC,cAAc,MACpCsW,EAAcvW,SAASC,cAAc,UAM3C,OALA+U,EAAWrS,UAAUY,IAAI,UACzBgT,EAAY5T,UAAUY,IAAI,iBAC1BgT,EAAYzP,aAAa,QAAS,iBAClCyP,EAAY9S,UAAY,qDACxBuR,EAAWtR,YAAY6S,GAChBvB,EAGTtX,SACE,MAAMsF,MAAEA,GAAU9H,KACZ8Z,EAAasB,EAAWpc,SAC9B8a,EAAWrR,iBAAiB,QAASiG,EAAcxP,KAAK4I,IACxDgS,EAAWrR,iBAAiB,YAAaiG,EAAcxP,KAAK4I,IAC5DhD,SAAS8D,KAAKJ,YAAYsR,ICrQ9B,SAASwB,EAAapS,GACL,QAAXA,GAA+B,UAAXA,GAT1B,SAAoBqS,GAClB,MAAMC,EAAQ1W,SAASkE,cAAc,wBAC/ByS,EAAO3W,SAASkE,cAAc,kBACpB,QAAZuS,GAAmBC,EAAME,OAAO,GACpB,UAAZH,GAAqBC,EAAMG,SAAS,GACxCF,EAAKlT,8BAAgCiT,EAAM7c,QAICid,CAAW1S,GAClDpE,SAASkE,cAAcE,IAC5BpE,SAASkE,cAAcE,GAAQoD,QAGjC,SAAShC,EAAa5K,GACpB,MAAM2J,EAAOrJ,KACb,GAAe,YAAXN,EAAEgF,KAAoB,CACxB,MAAMmX,EAAYnc,EAAET,IAAI8H,cACpBsC,EAAKsK,eAAiBkI,IAAWxS,EAAKsK,aAAekI,GAG3D,GADe,UAAXnc,EAAEgF,OAAkB2E,EAAKsK,aAAe,MAC7B,aAAXjU,EAAEgF,KAAqB,CAGzB4W,EArCJ,SAAwBrc,GACtB,MAAM6c,EAAYnS,OAAOwE,OAAO4N,UAChC,IAAIC,EAAiB,KAQrB,OAPA5d,OAAOmU,QAAQuJ,GAAWvY,QAAS2H,IACjC,MAAM+Q,EAAW/Q,EAAK,GAClB+Q,EAAS,KAAOhd,IAElB+c,EAAiBC,EAAS,MAGvBD,EA0BUE,CADExc,EAAET,IAAIkd,sBCtC3B,MAAMhO,EAAS,ID4CA,MACbxN,cACEX,KAAKkO,cAAgB,CACnBkO,QAAQ,EACRxM,aAAa,EACbC,MAAM,EACNG,eAAe,EACfF,KAAK,EACLC,QAAQ,EACRO,MAAM,EACNJ,SAAS,EACTC,cAAc,EACdC,WAAW,EACXC,gBAAgB,GAElBrQ,KAAK8N,YAAc,CACjB2F,QAAQ,EACR1F,QAAS,EACTsB,aAAc,WAEhBrP,KAAK2T,aAAe,KACpB3T,KAAKqc,YAAa,EAClBrc,KAAKsc,eAAgB,EACrBtc,KAAK+J,gBAAkB,GACvB/J,KAAKiY,aAAe,KACpBjY,KAAK8I,YAAc,EACnB9I,KAAKwJ,YAAc,EACnBxJ,KAAKmK,eAAiB,EACtBnK,KAAK+b,UAAY,CACfQ,UAAW,CAAC,IAAK,OACjBC,YAAa,CAAC,IAAK,SACnB7a,SAAU,CAAC,IAAK,kBAChB0Y,YAAa,CAAC,IAAK,kBACnBG,UAAW,CAAC,IAAK,gBACjB1K,IAAK,CAAC,IAAK,aACXQ,KAAM,CAAC,IAAK,cACZC,MAAO,CAAC,IAAK,eACbR,OAAQ,CAAC,IAAK,gBACdG,QAAS,CAAC,IAAK,iBACfC,aAAc,CAAC,IAAK,wBACpBC,UAAW,CAAC,IAAK,mBACjBC,eAAgB,CAAC,IAAK,0BACtBR,KAAM,CAAC,IAAK,cACZD,YAAa,CAAC,IAAK,wBACnBI,cAAe,CAAC,IAAK,sBACrByM,UAAW,CAAC,IAAK,kBAIrBja,SACE,MAAMwF,EAAS,IAAIH,EAAO7H,MACpB0P,EAAQ,IAAIF,EAAMxP,MAClB8Z,EAAa,IAAIsB,EAAWpb,MAC5ByN,EAAU,IAAIlB,EAAQvM,MAC5BgI,EAAOxF,SACPkN,EAAMlN,SACNsX,EAAWtX,SACXuU,EAAO2F,oBAAoB1c,MAC3ByN,EAAQjL,SACRsC,SAAS2D,iBAAiB,UAAW6B,EAAapL,KAAKc,OACvD8E,SAAS2D,iBAAiB,QAAS6B,EAAapL,KAAKc,OACrD8E,SAAS2D,iBAAiB,WAAY6B,EAAapL,KAAKc,SCxG5D2J,OAAOwE,OAASA,EAChBA,EAAO3L","file":"app.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n","!function(t,e){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define([],e):\"object\"==typeof exports?exports.GIF=e():t.GIF=e()}(this,function(){return function(t){function e(n){if(i[n])return i[n].exports;var r=i[n]={exports:{},id:n,loaded:!1};return t[n].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var i={};return e.m=t,e.c=i,e.p=\"\",e(0)}([function(t,e,i){var n,r,s,o=function(t,e){function i(){this.constructor=t}for(var n in e)a.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},a={}.hasOwnProperty,h=[].indexOf||function(t){for(var e=0,i=this.length;e<i;e++)if(e in this&&this[e]===t)return e;return-1};n=i(1).EventEmitter,s=i(2),r=function(t){function e(t){var e,n,r;this.running=!1,this.options={},this.frames=[],this.groups=new Map,this.freeWorkers=[],this.activeWorkers=[],this.setOptions(t);for(n in i)r=i[n],null==(e=this.options)[n]&&(e[n]=r)}var i,n;return o(e,t),i={workerScript:\"gif.worker.js\",workers:2,repeat:0,background:\"#fff\",quality:10,width:null,height:null,transparent:null,debug:!1},n={delay:500,copy:!1},e.prototype.setOption=function(t,e){if(this.options[t]=e,null!=this._canvas&&(\"width\"===t||\"height\"===t))return this._canvas[t]=e},e.prototype.setOptions=function(t){var e,i,n;i=[];for(e in t)a.call(t,e)&&(n=t[e],i.push(this.setOption(e,n)));return i},e.prototype.addFrame=function(t,e){var i,r,s;null==e&&(e={}),i={},i.transparent=this.options.transparent;for(s in n)i[s]=e[s]||n[s];if(null==this.options.width&&this.setOption(\"width\",t.width),null==this.options.height&&this.setOption(\"height\",t.height),\"undefined\"!=typeof ImageData&&null!==ImageData&&t instanceof ImageData)i.data=t.data;else if(\"undefined\"!=typeof CanvasRenderingContext2D&&null!==CanvasRenderingContext2D&&t instanceof CanvasRenderingContext2D||\"undefined\"!=typeof WebGLRenderingContext&&null!==WebGLRenderingContext&&t instanceof WebGLRenderingContext)e.copy?i.data=this.getContextData(t):i.context=t;else{if(null==t.childNodes)throw new Error(\"Invalid image\");e.copy?i.data=this.getImageData(t):i.image=t}return r=this.frames.length,r>0&&i.data&&(this.groups.has(i.data)?this.groups.get(i.data).push(r):this.groups.set(i.data,[r])),this.frames.push(i)},e.prototype.render=function(){var t,e,i,n;if(this.running)throw new Error(\"Already running\");if(null==this.options.width||null==this.options.height)throw new Error(\"Width and height must be set prior to rendering\");if(this.running=!0,this.nextFrame=0,this.finishedFrames=0,this.imageParts=function(){var e,i,n;for(n=[],t=e=0,i=this.frames.length;0<=i?e<i:e>i;t=0<=i?++e:--e)n.push(null);return n}.call(this),i=this.spawnWorkers(),this.options.globalPalette===!0)this.renderNextFrame();else for(t=e=0,n=i;0<=n?e<n:e>n;t=0<=n?++e:--e)this.renderNextFrame();return this.emit(\"start\"),this.emit(\"progress\",0)},e.prototype.abort=function(){for(var t;;){if(t=this.activeWorkers.shift(),null==t)break;this.log(\"killing active worker\"),t.terminate()}return this.running=!1,this.emit(\"abort\")},e.prototype.spawnWorkers=function(){var t,e,i;return t=Math.min(this.options.workers,this.frames.length),function(){i=[];for(var n=e=this.freeWorkers.length;e<=t?n<t:n>t;e<=t?n++:n--)i.push(n);return i}.apply(this).forEach(function(t){return function(e){var i;return t.log(\"spawning worker \"+e),i=new Worker(t.options.workerScript),i.onmessage=function(e){return t.activeWorkers.splice(t.activeWorkers.indexOf(i),1),t.freeWorkers.push(i),t.frameFinished(e.data,!1)},t.freeWorkers.push(i)}}(this)),t},e.prototype.frameFinished=function(t,e){var i,n,r,s,o;if(this.finishedFrames++,e?(n=this.frames.indexOf(t),r=this.groups.get(t.data)[0],this.log(\"frame \"+(n+1)+\" is duplicate of \"+r+\" - \"+this.activeWorkers.length+\" active\"),this.imageParts[n]={indexOfFirstInGroup:r}):(this.log(\"frame \"+(t.index+1)+\" finished - \"+this.activeWorkers.length+\" active\"),this.emit(\"progress\",this.finishedFrames/this.frames.length),this.imageParts[t.index]=t),this.options.globalPalette===!0&&!e&&(this.options.globalPalette=t.globalPalette,this.log(\"global palette analyzed\"),this.frames.length>2))for(i=s=1,o=this.freeWorkers.length;1<=o?s<o:s>o;i=1<=o?++s:--s)this.renderNextFrame();return h.call(this.imageParts,null)>=0?this.renderNextFrame():this.finishRendering()},e.prototype.finishRendering=function(){var t,e,i,n,r,s,o,a,h,l,f,p,u,d,c,g,v,m,y,_;for(v=this.imageParts,r=s=0,l=v.length;s<l;r=++s)e=v[r],e.indexOfFirstInGroup&&(this.imageParts[r]=this.imageParts[e.indexOfFirstInGroup]);for(h=0,m=this.imageParts,o=0,f=m.length;o<f;o++)e=m[o],h+=(e.data.length-1)*e.pageSize+e.cursor;for(h+=e.pageSize-e.cursor,this.log(\"rendering finished - filesize \"+Math.round(h/1e3)+\"kb\"),t=new Uint8Array(h),c=0,y=this.imageParts,a=0,p=y.length;a<p;a++)for(e=y[a],_=e.data,i=d=0,u=_.length;d<u;i=++d)g=_[i],t.set(g,c),c+=i===e.data.length-1?e.cursor:e.pageSize;return n=new Blob([t],{type:\"image/gif\"}),this.emit(\"finished\",n,t)},e.prototype.renderNextFrame=function(){var t,e,i,n;if(0===this.freeWorkers.length)throw new Error(\"No free workers\");if(!(this.nextFrame>=this.frames.length))return t=this.frames[this.nextFrame++],e=this.frames.indexOf(t),e>0&&this.groups.has(t.data)&&this.groups.get(t.data)[0]!==e?void setTimeout(function(e){return function(){return e.frameFinished(t,!0)}}(this),0):(n=this.freeWorkers.shift(),i=this.getTask(t),this.log(\"starting frame \"+(i.index+1)+\" of \"+this.frames.length),this.activeWorkers.push(n),n.postMessage(i))},e.prototype.getContextData=function(t){return t.getImageData(0,0,this.options.width,this.options.height).data},e.prototype.getImageData=function(t){var e;return null==this._canvas&&(this._canvas=document.createElement(\"canvas\"),this._canvas.width=this.options.width,this._canvas.height=this.options.height),e=this._canvas.getContext(\"2d\"),e.setFill=this.options.background,e.fillRect(0,0,this.options.width,this.options.height),e.drawImage(t,0,0),this.getContextData(e)},e.prototype.getTask=function(t){var e,i;if(e=this.frames.indexOf(t),i={index:e,last:e===this.frames.length-1,delay:t.delay,transparent:t.transparent,width:this.options.width,height:this.options.height,quality:this.options.quality,dither:this.options.dither,globalPalette:this.options.globalPalette,repeat:this.options.repeat,canTransfer:!0},null!=t.data)i.data=t.data;else if(null!=t.context)i.data=this.getContextData(t.context);else{if(null==t.image)throw new Error(\"Invalid frame\");i.data=this.getImageData(t.image)}return i},e.prototype.log=function(t){if(this.options.debug)return console.log(t)},e}(n),t.exports=r},function(t,e){function i(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function n(t){return\"function\"==typeof t}function r(t){return\"number\"==typeof t}function s(t){return\"object\"==typeof t&&null!==t}function o(t){return void 0===t}t.exports=i,i.EventEmitter=i,i.prototype._events=void 0,i.prototype._maxListeners=void 0,i.defaultMaxListeners=10,i.prototype.setMaxListeners=function(t){if(!r(t)||t<0||isNaN(t))throw TypeError(\"n must be a positive number\");return this._maxListeners=t,this},i.prototype.emit=function(t){var e,i,r,a,h,l;if(this._events||(this._events={}),\"error\"===t&&(!this._events.error||s(this._events.error)&&!this._events.error.length)){if(e=arguments[1],e instanceof Error)throw e;var f=new Error('Uncaught, unspecified \"error\" event. ('+e+\")\");throw f.context=e,f}if(i=this._events[t],o(i))return!1;if(n(i))switch(arguments.length){case 1:i.call(this);break;case 2:i.call(this,arguments[1]);break;case 3:i.call(this,arguments[1],arguments[2]);break;default:a=Array.prototype.slice.call(arguments,1),i.apply(this,a)}else if(s(i))for(a=Array.prototype.slice.call(arguments,1),l=i.slice(),r=l.length,h=0;h<r;h++)l[h].apply(this,a);return!0},i.prototype.addListener=function(t,e){var r;if(!n(e))throw TypeError(\"listener must be a function\");return this._events||(this._events={}),this._events.newListener&&this.emit(\"newListener\",t,n(e.listener)?e.listener:e),this._events[t]?s(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,s(this._events[t])&&!this._events[t].warned&&(r=o(this._maxListeners)?i.defaultMaxListeners:this._maxListeners,r&&r>0&&this._events[t].length>r&&(this._events[t].warned=!0,console.error(\"(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.\",this._events[t].length),\"function\"==typeof console.trace&&console.trace())),this},i.prototype.on=i.prototype.addListener,i.prototype.once=function(t,e){function i(){this.removeListener(t,i),r||(r=!0,e.apply(this,arguments))}if(!n(e))throw TypeError(\"listener must be a function\");var r=!1;return i.listener=e,this.on(t,i),this},i.prototype.removeListener=function(t,e){var i,r,o,a;if(!n(e))throw TypeError(\"listener must be a function\");if(!this._events||!this._events[t])return this;if(i=this._events[t],o=i.length,r=-1,i===e||n(i.listener)&&i.listener===e)delete this._events[t],this._events.removeListener&&this.emit(\"removeListener\",t,e);else if(s(i)){for(a=o;a-- >0;)if(i[a]===e||i[a].listener&&i[a].listener===e){r=a;break}if(r<0)return this;1===i.length?(i.length=0,delete this._events[t]):i.splice(r,1),this._events.removeListener&&this.emit(\"removeListener\",t,e)}return this},i.prototype.removeAllListeners=function(t){var e,i;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)\"removeListener\"!==e&&this.removeAllListeners(e);return this.removeAllListeners(\"removeListener\"),this._events={},this}if(i=this._events[t],n(i))this.removeListener(t,i);else if(i)for(;i.length;)this.removeListener(t,i[i.length-1]);return delete this._events[t],this},i.prototype.listeners=function(t){var e;return e=this._events&&this._events[t]?n(this._events[t])?[this._events[t]]:this._events[t].slice():[]},i.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(n(e))return 1;if(e)return e.length}return 0},i.listenerCount=function(t,e){return t.listenerCount(e)}},function(t,e){var i,n,r,s,o;o=navigator.userAgent.toLowerCase(),s=navigator.platform.toLowerCase(),i=o.match(/(opera|ie|firefox|chrome|version)[\\s\\/:]([\\w\\d\\.]+)?.*?(safari|version[\\s\\/:]([\\w\\d\\.]+)|$)/)||[null,\"unknown\",0],r=\"ie\"===i[1]&&document.documentMode,n={name:\"version\"===i[1]?i[3]:i[1],version:r||parseFloat(\"opera\"===i[1]&&i[4]?i[4]:i[2]),platform:{name:o.match(/ip(?:ad|od|hone)/)?\"ios\":(o.match(/(?:webos|android)/)||s.match(/mac|win|linux/)||[\"other\"])[0]}},n[n.name]=!0,n[n.name+parseInt(n.version,10)]=!0,n.platform[n.platform.name]=!0,t.exports=n}])});\n//# sourceMappingURL=gif.js.map","module.exports = function() {\n  return new Worker(__webpack_public_path__ + \"gif.worker.js\");\n};","function toggleClass(elem, classString) {\n  elem.classList.toggle(classString);\n}\n\nfunction toggleHeaderState(obj, key) {\n  const objectToggle = obj;\n  objectToggle[key] = !obj[key];\n}\n\nfunction listenersFunc(e) {\n  const { target } = e;\n  if (target.closest('.btn_menu')) {\n    toggleClass(target.closest('.btn_menu'), 'open');\n    toggleHeaderState(this, 'isMenuOpen');\n  }\n  if (target.closest('.btn_options')) {\n    toggleClass(target.closest('.btn_options'), 'open');\n    toggleHeaderState(this, 'isOptionsOpen');\n  }\n}\n\nexport default class Header {\n  constructor(props) {\n    this.props = props;\n  }\n\n  static create() {\n    const header = document.createElement('header');\n    const wrapper = document.createElement('div');\n    const btnMenu = document.createElement('button');\n    const btnOptions = document.createElement('button');\n    const h1 = document.createElement('h1');\n    wrapper.classList.add('wrapper');\n    btnMenu.classList.add('btn', 'btn_menu');\n    btnOptions.classList.add('btn', 'btn_options');\n    h1.innerText = 'Piskel Clone';\n    btnMenu.innerHTML = '<div class=\"line line_1\"></div>'\n                      + '<div class=\"line line_2\"></div>'\n                      + '<div class=\"line line_3\"></div>';\n    btnOptions.innerHTML = '<div class=\"dot dot_1\"></div>'\n                         + '<div class=\"dot dot_2\"></div>'\n                         + '<div class=\"dot dot_3\"></div>';\n    wrapper.appendChild(btnMenu);\n    wrapper.appendChild(h1);\n    wrapper.appendChild(btnOptions);\n    header.appendChild(wrapper);\n    return header;\n  }\n\n  render() {\n    const { props } = this;\n    const header = Header.create();\n    header.addEventListener('click', listenersFunc.bind(props), false);\n    document.body.appendChild(header);\n  }\n}\n","export default class ToGif {\n  static toggleVisibleToGif(countFrames) {\n    const toGif = document.querySelector('.preview__to-gif');\n    if (countFrames === 0) {\n      toGif.classList.remove('show');\n    } else {\n      toGif.classList.add('show');\n    }\n  }\n\n  static createButton() {\n    const button = document.createElement('button');\n    button.innerText = 'get GIF';\n    button.classList.add('preview__to-gif');\n    return button;\n  }\n}\n","import GIF from 'gif.js.optimized';\nimport ToGif from './gif/gif';\nimport Worker from '../../../node_modules/gif.js.optimized/dist/gif.worker';\n\nfunction fixBlackColorInGif(image) {\n  const correctImage = image;\n  for (let i = 3; i < correctImage.data.length; i += 4) {\n    if (correctImage.data[i] === 0) {\n      correctImage.data[i - 1] = 255;\n      correctImage.data[i - 2] = 255;\n      correctImage.data[i - 3] = 255;\n      correctImage.data[i] = 255;\n    }\n  }\n  return correctImage;\n}\n\nfunction getImageData(canvas) {\n  const ctx = canvas.getContext('2d');\n  const canvasSize = canvas.getAttribute('height');\n  return ctx.getImageData(0, 0, canvasSize, canvasSize);\n}\n\nfunction getMaxSizeCanvas(canvas, maxSize) {\n  const imageData = getImageData(canvas);\n  const newCanvas = document.createElement('canvas');\n  newCanvas.setAttribute('width', maxSize);\n  newCanvas.setAttribute('height', maxSize);\n  const ctx = newCanvas.getContext('2d');\n  ctx.putImageData(imageData, 0, 0);\n  return newCanvas;\n}\n\nfunction getMaxFrameSize(frames) {\n  let maxSize = 0;\n  frames.forEach((item) => {\n    const canvas = item.querySelector('canvas');\n    const canvasSize = canvas.width;\n    if (maxSize < canvasSize) maxSize = canvasSize;\n  });\n  return maxSize;\n}\n\nfunction clearTimeOut() {\n  while (window.intAnimPrev > 0) {\n    window.clearTimeout(window.intAnimPrev);\n    window.intAnimPrev -= 1;\n  }\n}\n\nfunction openInFullScreen() {\n  const element = document.querySelector('.preview__animation');\n  if (element.requestFullscreen) {\n    element.requestFullscreen();\n  } else if (element.mozRequestFullScreen) {\n    element.mozRequestFullScreen();\n  } else if (element.webkitRequestFullscreen) {\n    element.webkitRequestFullscreen();\n  } else if (element.msRequestFullscreen) {\n    element.msRequestFullscreen();\n  }\n}\n\nfunction clearAnimationFrames(props) {\n  const playerProperty = props;\n  playerProperty.animationFrames.length = 0;\n}\n\nfunction checkNextIndexOutRange(props) {\n  return props.frameOnPreview + 1 > props.animationFrames.length - 1;\n}\n\nfunction writeFPS(fps) {\n  const fpsView = document.querySelector('.preview__fps-view');\n  fpsView.innerText = `FPS: ${fps}`;\n}\n\nfunction changeFPS(evTarget, props) {\n  const that = props;\n  const evValue = +evTarget.value;\n  that.selectedFPS = evValue;\n  writeFPS(evValue);\n}\n\nfunction changePreviewBg(image) {\n  const animationBlock = document.querySelector('.preview__animation');\n  animationBlock.style.setProperty('background-image', `url(\"${image}\")`);\n}\n\nfunction clearBackgroundPreview() {\n  const animationBlock = document.querySelector('.preview__animation');\n  animationBlock.style.setProperty('background-image', 'url(\"\")');\n}\n\nfunction animationPreview(props) {\n  const playerProperty = props;\n  clearTimeOut();\n  if (playerProperty.animationFrames.length === 0) {\n    clearBackgroundPreview();\n    return;\n  }\n  const imageOnPreview = playerProperty.animationFrames[playerProperty.frameOnPreview];\n  changePreviewBg(imageOnPreview);\n  if (checkNextIndexOutRange(playerProperty)) {\n    playerProperty.frameOnPreview = 0;\n  } else {\n    playerProperty.frameOnPreview += 1;\n  }\n  const time = 1000 / playerProperty.selectedFPS;\n  window.intAnimPrev = setTimeout(animationPreview, time, playerProperty);\n}\n\nfunction listenerFunc(e) {\n  const { target } = e;\n  const evType = e.type;\n  const that = this;\n  switch (evType) {\n    case 'input': {\n      const inputRange = target.closest('.preview__fps-control');\n      changeFPS(inputRange, that);\n      break;\n    }\n    case 'click': {\n      if (target.closest('.preview__fullscreen')) {\n        openInFullScreen();\n      }\n      if (target.closest('.preview__to-gif')) {\n        const canvases = document.querySelectorAll('.frame__canvas');\n        const worker = new Worker();\n        const maxSize = getMaxFrameSize(canvases);\n        if (worker) {\n          const gif = new GIF({\n            workers: 2,\n            quality: 10,\n            width: maxSize,\n            height: maxSize,\n          });\n          canvases.forEach((element) => {\n            let canvas = element.querySelector('canvas');\n            const canvasSize = canvas.width;\n            if (canvasSize < maxSize) {\n              canvas = getMaxSizeCanvas(canvas, maxSize);\n            }\n            let image = canvas.getContext('2d').getImageData(0, 0, maxSize, maxSize);\n            image = fixBlackColorInGif(image);\n            gif.addFrame(image, { delay: 1000 / that.selectedFPS });\n          });\n          gif.on('finished', (ev) => {\n            const downloadLink = document.createElement('a');\n            const resultGif = URL.createObjectURL(ev);\n            downloadLink.setAttribute('href', resultGif);\n            downloadLink.setAttribute('download', 'download');\n            downloadLink.click();\n          });\n          gif.render();\n        }\n      }\n      break;\n    }\n    default: {\n      break;\n    }\n  }\n}\n\nexport default class Preview {\n  constructor(props) {\n    this.props = props;\n  }\n\n  static create(props) {\n    const fpsValue = props.selectedFPS;\n    const previewWrapper = document.createElement('div');\n    const previewSettings = document.createElement('div');\n    const fpsRange = document.createElement('input');\n    const fpsView = document.createElement('span');\n    const animation = document.createElement('div');\n    const fullScreen = document.createElement('button');\n    const toGif = ToGif.createButton();\n    fpsView.innerText = `FPS: ${fpsValue}`;\n    fpsRange.setAttribute('type', 'range');\n    fpsRange.setAttribute('min', '1');\n    fpsRange.setAttribute('max', '24');\n    fpsRange.setAttribute('step', '1');\n    fpsRange.value = fpsValue;\n    previewWrapper.classList.add('preview');\n    previewSettings.classList.add('preview__settings');\n    fpsRange.classList.add('preview__fps-control');\n    fpsView.classList.add('preview__fps-view');\n    animation.classList.add('preview__animation');\n    fullScreen.classList.add('preview__fullscreen');\n    previewSettings.appendChild(fpsView);\n    previewSettings.appendChild(fpsRange);\n    previewWrapper.appendChild(fullScreen);\n    previewWrapper.appendChild(toGif);\n    previewWrapper.appendChild(animation);\n    previewWrapper.appendChild(previewSettings);\n    return previewWrapper;\n  }\n\n  static createAnimationFrames(props, flag = 'rebuild') {\n    const playerProperty = props;\n    const imagesArr = [];\n    const canvasList = document.querySelectorAll('.canvas-list li');\n    const activeCanvasWrapper = document.querySelector('.canvas-list li.active');\n    if (!activeCanvasWrapper) {\n      playerProperty.animationFrames.length = 0;\n      ToGif.toggleVisibleToGif(playerProperty.animationFrames.length);\n      return;\n    }\n    const activeCanvas = activeCanvasWrapper.firstChild;\n    if (flag === 'add') {\n      playerProperty.animationFrames.push(activeCanvas.toDataURL());\n    } else if (flag === 'rebuild') {\n      canvasList.forEach((item) => {\n        const canvas = item.firstChild;\n        imagesArr.push(canvas.toDataURL());\n      });\n      clearAnimationFrames(props);\n      playerProperty.animationFrames = imagesArr;\n    }\n    ToGif.toggleVisibleToGif(playerProperty.animationFrames.length);\n  }\n\n  static startAnimationPreview(props) {\n    const time = 1000 / props.selectedFPS;\n    window.intAnimPrev = setTimeout(animationPreview, time, props);\n  }\n\n  render() {\n    const { props } = this;\n    const preview = Preview.create(props);\n    preview.addEventListener('input', listenerFunc.bind(props));\n    preview.addEventListener('click', listenerFunc.bind(props));\n    document.body.appendChild(preview);\n  }\n}\n","import Preview from '../../screens/preview/preview';\n\nfunction toggleClass(elem, classString) {\n  elem.classList.toggle(classString);\n}\n\nfunction cleanCanvas(canvas) {\n  const canvasSize = canvas.getAttribute('height');\n  const ctx = canvas.getContext('2d');\n  ctx.clearRect(0, 0, canvasSize, canvasSize);\n}\n\nfunction writeSize(size) {\n  const penSizeView = document.querySelector('.pen-size_view');\n  penSizeView.innerHTML = `<b>Pen size:</b> ${size}`;\n}\n\nfunction changePenSize(evTarget, props) {\n  const that = props;\n  const evValue = +evTarget.value;\n  that.canvasState.penSize = evValue;\n  writeSize(evValue);\n}\n\nfunction changeColor(props) {\n  const that = props;\n  const primaryColorBlock = document.querySelector('.color_primary');\n  const secondaryColorBlock = document.querySelector('.color_secondary');\n  const colorPrimary = getComputedStyle(primaryColorBlock).backgroundColor;\n  const secondaryColor = getComputedStyle(secondaryColorBlock).backgroundColor;\n  primaryColorBlock.style.backgroundColor = secondaryColor;\n  secondaryColorBlock.style.backgroundColor = colorPrimary;\n  that.canvasState.currentColor = secondaryColor;\n}\n\nfunction isSelfClick(obj, selfKey) {\n  return obj[selfKey];\n}\n\nfunction disableActiveTool(obj) {\n  const toolsObj = obj;\n  Object.keys(toolsObj).forEach((key) => {\n    toolsObj[key] = false;\n  });\n}\n\nfunction removeActiveClass() {\n  const activeTool = document.querySelector('.tool.active');\n  if (activeTool) activeTool.classList.remove('active');\n}\n\nfunction toggleToolsState(obj, key) {\n  const toolsObj = obj;\n  toolsObj[key] = !obj[key];\n}\n\nfunction toggleTools(element, nameState) {\n  const { selectedTools } = window.player;\n  if (!isSelfClick(selectedTools, nameState)) {\n    disableActiveTool(selectedTools);\n    removeActiveClass();\n  }\n  toggleClass(element, 'active');\n  toggleToolsState(selectedTools, nameState);\n}\n\nfunction listenersFunc(e) {\n  const that = this;\n  const { target: evTarget, type: evType } = e;\n  if (evTarget.closest('.tool_paint-bucket')) {\n    toggleTools(evTarget.closest('.tool_paint-bucket'), 'bucket');\n  }\n  if (evTarget.closest('.tool_color-picker')) {\n    toggleTools(evTarget.closest('.tool_color-picker'), 'colorPicker');\n  }\n  if (evTarget.closest('.tool_move')) {\n    toggleTools(evTarget.closest('.tool_move'), 'move');\n  }\n  if (evTarget.closest('.tool_lighten-darken')) {\n    toggleTools(evTarget.closest('.tool_lighten-darken'), 'lightenDarken');\n  }\n  if (evTarget.closest('.tool_pen')) {\n    toggleTools(evTarget.closest('.tool_pen'), 'pen');\n  }\n  if (evTarget.closest('.tool_eraser')) {\n    toggleTools(evTarget.closest('.tool_eraser'), 'eraser');\n  }\n  if (evTarget.closest('.tool_line')) {\n    toggleTools(evTarget.closest('.tool_line'), 'line');\n  }\n  if (evTarget.closest('.tool_clean')) {\n    if (!document.querySelector('.frame')) return;\n    const message = 'Данное действие очищает весь холст. Вы уверены что хотите это сделать?';\n    const userAnswer = window.confirm(message);\n    if (userAnswer) {\n      const canvas = document.querySelector('.canvas-list__item.active canvas');\n      const frame = document.querySelector('.frame.active canvas');\n      cleanCanvas(canvas);\n      cleanCanvas(frame);\n      Preview.createAnimationFrames(that);\n    }\n  }\n  if (evTarget.closest('.tool_ellipse')) {\n    toggleTools(evTarget.closest('.tool_ellipse'), 'ellipse');\n  }\n  if (evTarget.closest('.tool_ellipse__paint')) {\n    toggleTools(evTarget.closest('.tool_ellipse__paint'), 'ellipsePaint');\n  }\n  if (evTarget.closest('.tool_rectangle')) {\n    toggleTools(evTarget.closest('.tool_rectangle'), 'rectangle');\n  }\n  if (evTarget.closest('.tool_rectangle__paint')) {\n    toggleTools(evTarget.closest('.tool_rectangle__paint'), 'rectanglePaint');\n  }\n  if (evType === 'input' && evTarget.closest('.tool_pen-size input')) {\n    const inputRange = evTarget.closest('.tool_pen-size input');\n    changePenSize(inputRange, that);\n  }\n  if (evTarget.closest('.color')) {\n    evTarget.classList.add('selecting-color');\n    document.querySelector('.tool_colors-select input').click();\n  }\n  if (evTarget.closest('.change-color')) {\n    changeColor(that);\n  }\n  if (evType === 'change' && evTarget.closest('.tool_colors-select input')) {\n    const inputColor = e.target.value;\n    // eslint-disable-next-line no-use-before-define\n    Tools.setColor(inputColor);\n  }\n}\n\nexport default class Tools {\n  constructor(props) {\n    this.props = props;\n  }\n\n  static create() {\n    const tools = document.createElement('div');\n    const paintBucket = document.createElement('button');\n    const colorPicker = document.createElement('button');\n    const move = document.createElement('button');\n    const pen = document.createElement('button');\n    const penSize = document.createElement('div');\n    const eraser = document.createElement('button');\n    const lightenDarken = document.createElement('button');\n    const colorsSelect = document.createElement('div');\n    const ellipse = document.createElement('button');\n    const ellipsePaint = document.createElement('button');\n    const rectangle = document.createElement('button');\n    const rectanglePaint = document.createElement('button');\n    const line = document.createElement('button');\n    const clean = document.createElement('button');\n    const hr = document.createElement('hr');\n    penSize.innerHTML = '<span class=\"pen-size_view\"><b>Pen size:</b> 1</span>'\n                      + '<input type=\"range\" max=\"5\" min=\"1\" step=\"1\" value=\"1\">';\n    colorsSelect.innerHTML = '<div class=\"color color_primary\"></div>'\n                            + '<div class=\"color color_secondary\"></div>'\n                            + '<button class=\"change-color\" title=\"shortcut: Y\"></button>'\n                            + '<input type=\"color\">';\n    paintBucket.setAttribute('title', 'shortcut: \"\"');\n    colorPicker.setAttribute('title', 'shortcut: \"Z\"');\n    move.setAttribute('title', 'shortcut: \"M\"');\n    pen.setAttribute('title', 'shortcut: \"P\"');\n    eraser.setAttribute('title', 'shortcut: \"E\"');\n    lightenDarken.setAttribute('title', 'shortcut: \"X\"');\n    ellipse.setAttribute('title', 'shortcut: \"Q\"');\n    ellipsePaint.setAttribute('title', 'shortcut: \"W\"');\n    rectangle.setAttribute('title', 'shortcut: \"A\"');\n    rectanglePaint.setAttribute('title', 'shortcut: \"S\"');\n    line.setAttribute('title', 'shortcut: \"L\"');\n    clean.setAttribute('title', 'shortcut: \"C\"');\n    tools.classList.add('tools');\n    paintBucket.classList.add('tool', 'tool_paint-bucket');\n    colorPicker.classList.add('tool', 'tool_color-picker');\n    move.classList.add('tool', 'tool_move');\n    lightenDarken.classList.add('tool', 'tool_lighten-darken');\n    pen.classList.add('tool', 'tool_pen');\n    penSize.classList.add('tool', 'tool_pen-size', 'outside');\n    eraser.classList.add('tool', 'tool_eraser');\n    line.classList.add('tool', 'tool_line');\n    clean.classList.add('tool', 'tool_clean');\n    ellipse.classList.add('tool', 'tool_ellipse');\n    ellipsePaint.classList.add('tool', 'tool_ellipse__paint');\n    rectangle.classList.add('tool', 'tool_rectangle');\n    rectanglePaint.classList.add('tool', 'tool_rectangle__paint');\n    colorsSelect.classList.add('tool', 'tool_colors-select', 'outside');\n    tools.appendChild(penSize);\n    tools.appendChild(pen);\n    tools.appendChild(line);\n    tools.appendChild(clean);\n    tools.appendChild(eraser);\n    tools.appendChild(ellipse);\n    tools.appendChild(ellipsePaint);\n    tools.appendChild(rectangle);\n    tools.appendChild(rectanglePaint);\n    tools.appendChild(hr);\n    tools.appendChild(lightenDarken);\n    tools.appendChild(move);\n    tools.appendChild(paintBucket);\n    tools.appendChild(colorPicker);\n    tools.appendChild(colorsSelect);\n    return tools;\n  }\n\n  render() {\n    const { props } = this;\n    const tools = Tools.create();\n    tools.addEventListener('click', listenersFunc.bind(props), false);\n    tools.addEventListener('input', listenersFunc.bind(props), false);\n    tools.addEventListener('change', listenersFunc.bind(props), false);\n    document.body.appendChild(tools);\n  }\n\n  static setColor(color) {\n    const props = window.player;\n    const selectedColorBlock = document.querySelector('.selecting-color') || document.querySelector('.color_primary');\n    selectedColorBlock.style.backgroundColor = color;\n    selectedColorBlock.classList.remove('selecting-color');\n    if (selectedColorBlock.classList.contains('color_primary')) {\n      props.canvasState.currentColor = color;\n    }\n  }\n}\n","export default class Frame {\n  constructor(props) {\n    this.props = props;\n  }\n\n  static createFrameShadow() {\n    const frameShadow = document.createElement('li');\n    frameShadow.classList.add('frame', 'frame_shadow');\n    return frameShadow;\n  }\n\n  static create(number) {\n    const frame = document.createElement('li');\n    const frameNumb = document.createElement('div');\n    const frameRemove = document.createElement('button');\n    const frameCopy = document.createElement('button');\n    const frameMove = document.createElement('div');\n    const frameCanvas = document.createElement('div');\n    const canvasPreview = document.createElement('canvas');\n    frameRemove.setAttribute('title', 'shortcut: \"R\"');\n    frameCopy.setAttribute('title', 'shortcut: \"V\"');\n    canvasPreview.setAttribute('width', '32');\n    canvasPreview.setAttribute('height', '32');\n    frameNumb.innerHTML = `<span>${number}</span>`;\n    frame.setAttribute('data-number', number);\n    frame.classList.add('frame');\n    frameNumb.classList.add('frame__number');\n    frameRemove.classList.add('frame__remove');\n    frameCopy.classList.add('frame__copy');\n    frameMove.classList.add('frame__move');\n    frameCanvas.classList.add('frame__canvas');\n    frameCanvas.appendChild(canvasPreview);\n    frame.appendChild(frameNumb);\n    frame.appendChild(frameRemove);\n    frame.appendChild(frameCopy);\n    frame.appendChild(frameMove);\n    frame.appendChild(frameCanvas);\n    return frame;\n  }\n\n  render() {\n    const { countFrames } = this.props;\n    const frame = Frame.create(countFrames + 1);\n    const button = document.querySelector('.btn_new-frame');\n    document.querySelector('.frames').insertBefore(frame, button);\n  }\n}\n","export default class CanvasOptions {\n  static setCorrectSize(canvasNode) {\n    const canvasSize = canvasNode.getAttribute('height');\n    const canvasListItem = canvasNode.parentNode;\n    const canvasSizeNode = canvasListItem.querySelector('.canvas-options_size select');\n    const lastSelectOption = canvasSizeNode.querySelector('[selected=\"true\"]');\n    const newSelectOptions = canvasSizeNode.querySelector(`[value=\"${canvasSize}\"]`);\n    lastSelectOption.setAttribute('selected', 'false');\n    newSelectOptions.setAttribute('selected', 'true');\n  }\n\n  static drawCoordinates(x, y) {\n    const activeCanvas = document.querySelector('.canvas-list__item.active');\n    const coordinateX = activeCanvas.querySelector('.coordinate__x');\n    const coordinateY = activeCanvas.querySelector('.coordinate__y');\n    coordinateX.innerText = x;\n    coordinateY.innerText = y;\n  }\n\n  static create() {\n    const canvasOptions = document.createElement('div');\n    const canvasCoordinates = document.createElement('div');\n    const canvasSizeWrapper = document.createElement('div');\n    const canvasSize = document.createElement('select');\n    canvasCoordinates.innerHTML = '<b>Coordinates:</b> '\n                                  + '<span>'\n                                    + '[X: <span class=\"coordinate__x\">0</span>, '\n                                    + 'Y: <span class=\"coordinate__y\">0</span>]'\n                                  + '</span>';\n    canvasSizeWrapper.innerHTML = '<b>Canvas size:</b> ';\n    canvasSize.innerHTML = '<option value=\"32\" selected=\"true\">32x32</option>'\n                          + '<option value=\"64\">64x64</option>'\n                          + '<option value=\"128\">128x128</option>';\n    canvasOptions.classList.add('canvas-options');\n    canvasCoordinates.classList.add('canvas-options_coordinates');\n    canvasSizeWrapper.classList.add('canvas-options_size');\n    canvasSizeWrapper.appendChild(canvasSize);\n    canvasOptions.appendChild(canvasCoordinates);\n    canvasOptions.appendChild(canvasSizeWrapper);\n    return canvasOptions;\n  }\n}\n","import Preview from '../preview/preview';\nimport CanvasOptions from './canvas-options/canvas-options';\nimport Tools from '../../components/tools/tools';\n\nfunction clearSelection() {\n  if (window.getSelection) {\n    if (window.getSelection().empty) {\n      window.getSelection().empty();\n    } else if (window.getSelection().removeAllRanges) {\n      window.getSelection().removeAllRanges();\n    }\n  }\n}\n\nfunction createCursor(canvas) {\n  const { selectedTools, canvasState } = window.player;\n  const cursor = document.createElement('div');\n  const canvasCSSHeight = canvas.clientHeight;\n  const canvasSize = canvas.getAttribute('height');\n  let flagPenSize = false;\n  let { penSize } = canvasState;\n  const ignoredTools = ['bucket', 'colorPicker', 'move', 'ellipse', 'ellipsePaint', 'rectangle', 'rectanglePaint'];\n  Object.entries(selectedTools).forEach((_tool) => {\n    if (ignoredTools.includes(_tool[0]) && !flagPenSize) {\n      if (_tool[1] === true) flagPenSize = true;\n    }\n  });\n  if (flagPenSize) penSize = 0;\n  const cursorSize = (canvasCSSHeight / canvasSize) * penSize;\n  cursor.classList.add('cursor');\n  cursor.style.setProperty('height', `${cursorSize}px`);\n  cursor.style.setProperty('width', `${cursorSize}px`);\n  return cursor;\n}\n\nfunction renderCursor(canvas) {\n  const cursor = createCursor(canvas);\n  const activeCanvasList = document.querySelector('.canvas-list__item.active');\n  activeCanvasList.appendChild(cursor);\n}\n\nfunction removeCursor() {\n  const cursor = document.querySelector('.cursor');\n  if (!cursor) return;\n  const parent = cursor.parentNode;\n  parent.removeChild(cursor);\n}\n\nfunction cursorMove(e) {\n  const cursor = document.querySelector('.cursor');\n  const mouse = { x: 0, y: 0, scale: 0 };\n  mouse.x = e.offsetX;\n  mouse.y = e.offsetY;\n  cursor.style.top = `${mouse.y}px`;\n  cursor.style.left = `${mouse.x}px`;\n}\n\nfunction setCanvasSize(node, size) {\n  node.setAttribute('width', size);\n  node.setAttribute('height', size);\n}\n\nfunction getImageData(canvas) {\n  const ctx = canvas.getContext('2d');\n  const canvasSize = canvas.getAttribute('height');\n  return ctx.getImageData(0, 0, canvasSize, canvasSize);\n}\n\nfunction getCanvasColor(canvas) {\n  const ctx = canvas.getContext('2d');\n  const activeCanvas = document.querySelector('.canvas-list__item.active');\n  const coordinateX = activeCanvas.querySelector('.coordinate__x').innerText;\n  const coordinateY = activeCanvas.querySelector('.coordinate__y').innerText;\n  const pointData = ctx.getImageData(coordinateX, coordinateY, 1, 1).data;\n  let hexColor = '';\n  pointData.forEach((item) => {\n    const hex = Number(item).toString(16);\n    hexColor += hex === '0' ? '00' : hex;\n  });\n  return `#${+hexColor === 0 ? 'ffffffff' : hexColor}`;\n}\n\nfunction copyImageInCanvas(imageData, cnvWrapSelector) {\n  const canvasWrapper = document.querySelector(`${cnvWrapSelector}.active`);\n  const canvas = canvasWrapper.querySelector('canvas');\n  const ctx = canvas.getContext('2d');\n  ctx.putImageData(imageData, 0, 0);\n}\n\nfunction changeCanvasSize(evTarget) {\n  const canvasListItem = evTarget.closest('.canvas-list__item');\n  const canvasListNumb = canvasListItem.getAttribute('data-canvas-number');\n  const frame = document.querySelector(`.frame[data-number='${canvasListNumb}']`);\n  const canvas = canvasListItem.querySelector('canvas');\n  const canvasInFrame = frame.querySelector('canvas');\n  const imageData = getImageData(canvas);\n  setCanvasSize(canvasInFrame, evTarget.value);\n  setCanvasSize(canvas, evTarget.value);\n  copyImageInCanvas(imageData, '.frame');\n  copyImageInCanvas(imageData, '.canvas-list__item');\n}\n\nfunction showCoordinates(e) {\n  const canvasList = e.target.closest('.canvas-list');\n  const canvasListCSS = getComputedStyle(canvasList);\n  const canvasCSSHeight = e.target.clientHeight;\n  const canvasSize = e.target.getAttribute('height');\n  const leftCanvasList = parseInt(canvasListCSS.left, 10);\n  const topCanvasList = parseInt(canvasListCSS.top, 10);\n  const zoomCoordinates = canvasCSSHeight / canvasSize;\n  let coordinatesX = Math.ceil((e.clientX - leftCanvasList) / zoomCoordinates) - 1;\n  let coordinatesY = Math.ceil((e.clientY - topCanvasList) / zoomCoordinates) - 1;\n  if (coordinatesX < 0) {\n    coordinatesX = 0;\n  } else if (coordinatesX > canvasSize - 1) {\n    coordinatesX = canvasSize - 1;\n  }\n  if (coordinatesY < 0) {\n    coordinatesY = 0;\n  } else if (coordinatesY > canvasSize - 1) {\n    coordinatesY = canvasSize - 1;\n  }\n  CanvasOptions.drawCoordinates(coordinatesX, coordinatesY);\n}\n\nfunction Draw(e, firstClick) {\n  const { canvasState, selectedTools, pressButtons } = window.player;\n  const evTarget = e.target;\n  const ctx = evTarget.getContext('2d');\n  const mouse = { x: 0, y: 0, scale: 0 };\n  const canvasSize = evTarget.getAttribute('width');\n  const canvasStyleWidth = evTarget.offsetWidth;\n  mouse.scale = canvasStyleWidth / canvasSize;\n  mouse.x = Math.ceil(e.offsetX / mouse.scale);\n  mouse.y = Math.ceil(e.offsetY / mouse.scale);\n  if (selectedTools.lightenDarken) {\n    ctx.beginPath();\n    mouse.x -= 1;\n    mouse.y -= 0;\n    const point = ctx.getImageData(mouse.x, mouse.y, canvasState.penSize, canvasState.penSize);\n    point.data.forEach((item, index) => {\n      let upValue = null;\n      if (pressButtons === 'shift') {\n        upValue = -Math.round(7 / canvasState.penSize);\n        if (item === 0) upValue = 0;\n      } else {\n        upValue = Math.round(7 / canvasState.penSize);\n        if (item === 255) upValue = 0;\n      }\n      if ((index + 1) % 4 !== 0) {\n        point.data[index] = item + upValue;\n      }\n    });\n    ctx.clearRect(mouse.x, mouse.y, canvasState.penSize, canvasState.penSize);\n    ctx.putImageData(point, mouse.x, mouse.y);\n  }\n  if (selectedTools.move) {\n    ctx.beginPath();\n    ctx.clearRect(0, 0, canvasSize, canvasSize);\n    const coordX = mouse.x - firstClick.x - (mouse.x < firstClick.x ? 1 : 1);\n    const coordY = mouse.y - firstClick.y - (mouse.y < firstClick.y ? -0.5 : -1);\n    ctx.putImageData(firstClick.canvasImage, coordX, coordY);\n  }\n  if (selectedTools.eraser) {\n    ctx.beginPath();\n    mouse.x -= 1;\n    mouse.y -= 0;\n    ctx.fillStyle = canvasState.currentColor;\n    ctx.clearRect(mouse.x, mouse.y, canvasState.penSize, canvasState.penSize);\n  }\n  if (selectedTools.pen) {\n    ctx.beginPath();\n    ctx.fillStyle = canvasState.currentColor;\n    mouse.x -= 1;\n    mouse.y -= 0;\n    ctx.fillRect(mouse.x, mouse.y, canvasState.penSize, canvasState.penSize);\n  }\n  if (selectedTools.line) {\n    ctx.clearRect(0, 0, canvasSize, canvasSize);\n    ctx.putImageData(firstClick.canvasImage, 0, 0);\n    ctx.beginPath();\n    mouse.x -= 0.5;\n    mouse.y -= 0.5;\n    ctx.fillStyle = '#00000000';\n    ctx.strokeStyle = canvasState.currentColor;\n    ctx.lineWidth = canvasState.penSize;\n    ctx.moveTo(firstClick.x, firstClick.y);\n    ctx.lineTo(mouse.x + 1, mouse.y + 1);\n    ctx.stroke();\n  }\n  if (selectedTools.ellipse || selectedTools.ellipsePaint) {\n    ctx.beginPath();\n    ctx.clearRect(0, 0, canvasSize, canvasSize);\n    ctx.putImageData(firstClick.canvasImage, 0, 0);\n    if (selectedTools.ellipse) {\n      mouse.x -= 0.5;\n      mouse.y -= 0.5;\n    }\n    const radius = ((((mouse.x - firstClick.x) ** 2) + ((mouse.y - firstClick.y) ** 2)) ** 0.5);\n    const radiusX = pressButtons === 'shift' ? radius : Math.abs(mouse.x - firstClick.x);\n    let radiusY = pressButtons === 'shift' ? radiusX : Math.abs(mouse.y - firstClick.y);\n    if (selectedTools.ellipse) {\n      ctx.fillStyle = '#00000000';\n      ctx.strokeStyle = canvasState.currentColor;\n      ctx.lineWidth = canvasState.penSize;\n      ctx.ellipse(firstClick.x, firstClick.y, radiusX, radiusY, 0, 2 * Math.PI, false);\n      ctx.stroke();\n    }\n    if (selectedTools.ellipsePaint) {\n      ctx.fillStyle = canvasState.currentColor;\n      ctx.lineWidth = 0;\n      if (pressButtons !== 'shift') {\n        radiusY = (mouse.y < firstClick.y) ? radiusY : radiusY + 1;\n      }\n      ctx.ellipse(firstClick.x, firstClick.y, radiusX, radiusY, 0, 2 * Math.PI, false);\n    }\n  }\n  if (selectedTools.rectangle || selectedTools.rectanglePaint) {\n    ctx.beginPath();\n    ctx.clearRect(0, 0, canvasSize, canvasSize);\n    ctx.putImageData(firstClick.canvasImage, 0, 0);\n    if (selectedTools.rectangle) {\n      mouse.x -= 0.5;\n      mouse.y -= 0.5;\n    }\n    let rectHeight = mouse.y - firstClick.y;\n    let rectWidth = mouse.x - firstClick.x;\n    if (selectedTools.rectangle) {\n      if (pressButtons === 'shift') {\n        rectWidth = (mouse.x < firstClick.x) ? -rectHeight : rectHeight;\n        rectWidth = mouse.y < firstClick.y ? -rectWidth : rectWidth;\n      }\n      ctx.fillStyle = '#00000000';\n      ctx.strokeStyle = canvasState.currentColor;\n      ctx.lineWidth = canvasState.penSize;\n      ctx.rect(firstClick.x, firstClick.y, rectWidth, rectHeight);\n      ctx.stroke();\n    }\n    if (selectedTools.rectanglePaint) {\n      rectHeight = mouse.y < firstClick.y ? rectHeight : rectHeight + 1;\n      rectWidth = (mouse.x < firstClick.x) ? rectWidth - 1 : rectWidth;\n      if (pressButtons === 'shift') {\n        rectWidth = (mouse.x < firstClick.x) ? -rectHeight : rectHeight;\n        rectWidth = mouse.y < firstClick.y ? -rectWidth : rectWidth;\n      }\n      ctx.fillStyle = canvasState.currentColor;\n      ctx.lineWidth = 0;\n      ctx.rect(firstClick.x, firstClick.y, rectWidth, rectHeight);\n    }\n  }\n  ctx.fill();\n}\n\nfunction listenerFunc(e) {\n  const { target: evTarget, type: evType } = e;\n  const that = this;\n  const { selectedTools } = that;\n  switch (evType) {\n    case 'click': {\n      if (!evTarget.closest('canvas')) break;\n      if (selectedTools.colorPicker) {\n        const colorFromCanvas = getCanvasColor(evTarget);\n        Tools.setColor(colorFromCanvas);\n      }\n      break;\n    }\n    case 'mousedown': {\n      if (!evTarget.closest('canvas')) break;\n      const {\n        pen, line, eraser, ellipse, rectangle, ellipsePaint, rectanglePaint, move, lightenDarken,\n      } = selectedTools;\n      const firstClick = { x: null, y: null, canvasImage: getImageData(evTarget) };\n      const activeCanvas = document.querySelector('.canvas-list__item.active');\n      firstClick.x = +activeCanvas.querySelector('.coordinate__x').innerText;\n      firstClick.y = +activeCanvas.querySelector('.coordinate__y').innerText;\n      if (rectangle || ellipse || line) {\n        firstClick.x -= 0.5;\n        firstClick.y -= 0.5;\n      }\n      if (\n        pen || line || eraser || ellipse\n        || rectangle || ellipsePaint || rectanglePaint\n        || move || lightenDarken\n      ) {\n        that.canvasState.isDraw = true;\n        const canvas = evTarget.closest('canvas');\n        canvas.onmousemove = (ev) => { Draw(ev, firstClick); };\n      }\n      break;\n    }\n    case 'mousemove': {\n      if (!evTarget.closest('canvas')) break;\n      showCoordinates(e);\n      cursorMove(e);\n      break;\n    }\n    case 'mouseover': {\n      if (!evTarget.closest('canvas')) break;\n      renderCursor(evTarget);\n      break;\n    }\n    case 'mouseout':\n    case 'mouseup': {\n      if (evTarget.closest('canvas') && evType === 'mouseout') {\n        removeCursor();\n      }\n      if (!that.canvasState.isDraw) break;\n      const canvas = document.querySelector('.canvas-list__item.active canvas');\n      canvas.onmousemove = null;\n      const imageData = getImageData(canvas);\n      copyImageInCanvas(imageData, '.frame');\n      Preview.createAnimationFrames(that);\n      Preview.startAnimationPreview(that);\n      clearSelection();\n      that.canvasState.isDraw = false;\n      break;\n    }\n    case 'change': {\n      changeCanvasSize(evTarget);\n      Preview.createAnimationFrames(that);\n      Preview.startAnimationPreview(that);\n      break;\n    }\n    default: {\n      break;\n    }\n  }\n}\n\nexport default class Canvas {\n  constructor(props) {\n    this.props = props;\n  }\n\n  static create(number) {\n    const canvas = document.createElement('canvas');\n    const canvasOptions = CanvasOptions.create();\n    const canvasWrapper = document.createElement('li');\n    canvasWrapper.classList.add('canvas-list__item');\n    setCanvasSize(canvas, 32);\n    canvasWrapper.setAttribute('data-canvas-number', number);\n    canvasWrapper.appendChild(canvas);\n    canvasWrapper.appendChild(canvasOptions);\n    return canvasWrapper;\n  }\n\n  static renderCanvasWrapper(props) {\n    const canvasList = document.createElement('ul');\n    canvasList.classList.add('canvas-list');\n    canvasList.addEventListener('mousedown', listenerFunc.bind(props), false);\n    canvasList.addEventListener('mousemove', listenerFunc.bind(props), false);\n    canvasList.addEventListener('mouseup', listenerFunc.bind(props), false);\n    canvasList.addEventListener('mouseout', listenerFunc.bind(props), false);\n    canvasList.addEventListener('mouseover', listenerFunc.bind(props), false);\n    canvasList.addEventListener('click', listenerFunc.bind(props), false);\n    canvasList.addEventListener('change', listenerFunc.bind(props), false);\n    document.body.appendChild(canvasList);\n  }\n\n  static copyCanvas(canvas, target) {\n    const canvasSize = canvas.getAttribute('height');\n    const ctx = canvas.getContext('2d');\n    const imageData = ctx.getImageData(0, 0, canvasSize, canvasSize);\n    const targetCtx = target.getContext('2d');\n    targetCtx.putImageData(imageData, 0, 0);\n    copyImageInCanvas(imageData, '.frame');\n  }\n\n  static setCanvasCorrectNumb() {\n    if (!document.querySelectorAll('.canvas-list__item')) return;\n    document.querySelectorAll('.canvas-list__item').forEach((item, index) => {\n      item.setAttribute('data-canvas-number', index + 1);\n    });\n  }\n\n  render() {\n    const { props } = this;\n    const canvasWrapper = Canvas.create(props.countFrames);\n    const canvasList = document.querySelector('.canvas-list');\n    canvasList.appendChild(canvasWrapper);\n  }\n}\n","import Frame from './frame/frame';\nimport Canvas from '../../screens/canvas/canvas';\nimport Preview from '../../screens/preview/preview';\nimport CanvasOptions from '../../screens/canvas/canvas-options/canvas-options';\n\nfunction isEmptyFrames(count) {\n  return count === 0;\n}\n\nfunction setFramesCorrectNumb() {\n  if (!document.querySelectorAll('.frame')) return;\n  document.querySelectorAll('.frame').forEach((item, index) => {\n    const frameNumber = item.querySelector('.frame__number span');\n    frameNumber.innerText = index + 1;\n    item.setAttribute('data-number', index + 1);\n  });\n}\n\nfunction changeCountFrame(action, props) {\n  const playerProperty = props;\n  if (action === 'add') playerProperty.countFrames += 1;\n  if (action === 'remove') {\n    if (!isEmptyFrames(playerProperty.countFrames)) {\n      playerProperty.countFrames -= 1;\n    } else {\n      playerProperty.countFrames = 0;\n    }\n  }\n}\n\nfunction createNode(props) {\n  const frame = new Frame(props);\n  frame.render();\n}\n\nfunction removeNode(elem, parentSelector) {\n  document.querySelector(parentSelector).removeChild(elem);\n}\n\nfunction copyNode(elem, parentSelector) {\n  const newFrame = elem.cloneNode(true);\n  const prevElem = elem.nextSibling;\n  document.querySelector(parentSelector).insertBefore(newFrame, prevElem);\n}\n\nfunction changeCurrFrameProp(numb, props) {\n  const playerProps = props;\n  playerProps.currentFrame = numb;\n}\n\nfunction removeActiveClass(elemSelector) {\n  const activeFrame = document.querySelector(`${elemSelector}.active`);\n  if (activeFrame) activeFrame.classList.remove('active');\n}\n\nfunction setActiveFrame(elem, props) {\n  const frameNumb = +elem.getAttribute('data-number');\n  removeActiveClass('.frame');\n  elem.classList.add('active');\n  changeCurrFrameProp(frameNumb, props);\n}\n\nfunction createFrame(button, props) {\n  createNode(props);\n  changeCountFrame('add', props);\n  const newFrame = button.previousSibling;\n  setActiveFrame(newFrame, props);\n}\n\nfunction removeFrame(frame, props) {\n  const playerProps = props;\n  const prevElem = frame.previousSibling;\n  const nextElem = frame.nextSibling;\n  removeNode(frame, '.frames');\n  changeCountFrame('remove', playerProps);\n  setFramesCorrectNumb();\n  if (frame.classList.contains('active')) {\n    const activeFrame = prevElem || nextElem;\n    if (activeFrame && !isEmptyFrames(playerProps.countFrames)) {\n      setActiveFrame(activeFrame, playerProps);\n    }\n  } else {\n    const activeFrame = document.querySelector('.frame.active');\n    setActiveFrame(activeFrame, playerProps);\n  }\n  if (isEmptyFrames(playerProps.countFrames)) {\n    playerProps.currentFrame = null;\n  }\n}\n\nfunction copyFrame(frame, props) {\n  copyNode(frame, '.frames');\n  changeCountFrame('add', props);\n  setFramesCorrectNumb();\n  const newFrame = frame.nextSibling;\n  setActiveFrame(newFrame, props);\n}\n\nfunction createCanvas(props) {\n  const canvas = new Canvas(props);\n  canvas.render();\n}\n\nfunction removeCanvas(frame) {\n  const removeFrameNumb = frame.getAttribute('data-number');\n  const canvas = document.querySelector(`[data-canvas-number='${removeFrameNumb}']`);\n  removeNode(canvas, '.canvas-list');\n  Canvas.setCanvasCorrectNumb();\n}\n\nfunction copyCanvasListItem(frame) {\n  const copyFrameNumb = frame.getAttribute('data-number');\n  const canvasWrapper = document.querySelector(`[data-canvas-number='${copyFrameNumb}']`);\n  const canvas = document.querySelector(`[data-canvas-number='${copyFrameNumb}']`).firstChild;\n  copyNode(canvasWrapper, '.canvas-list');\n  const newCanvas = document.querySelectorAll(`[data-canvas-number='${copyFrameNumb}']`)[1].firstChild;\n  CanvasOptions.setCorrectSize(newCanvas);\n  Canvas.copyCanvas(canvas, newCanvas);\n  Canvas.setCanvasCorrectNumb();\n}\n\nfunction setActiveCanvas() {\n  const activeFrame = document.querySelector('.frame.active');\n  if (!activeFrame) return;\n  const activeFrameNumb = activeFrame.getAttribute('data-number');\n  const canvasWrapper = document.querySelector(`[data-canvas-number='${activeFrameNumb}']`);\n  removeActiveClass('.canvas-list__item');\n  canvasWrapper.classList.add('active');\n}\n\nfunction appendFrameShadow(prevNode) {\n  const frameShadow = Frame.createFrameShadow();\n  const nextNode = prevNode.nextSibling;\n  const framesList = prevNode.parentNode;\n  framesList.insertBefore(frameShadow, nextNode);\n}\n\nfunction removeFrameShadow() {\n  const frameShadow = document.querySelector('.frame_shadow');\n  frameShadow.parentNode.removeChild(frameShadow);\n}\n\nfunction setCoordinates(frame) {\n  const draggableFrame = frame;\n  const framesList = draggableFrame.parentNode;\n  const framesListStyle = window.getComputedStyle(framesList);\n  const frameTop = draggableFrame.getBoundingClientRect().top;\n  const correction = {\n    top: frameTop - parseInt(framesListStyle.top, 10) + framesList.scrollTop || 0,\n  };\n  draggableFrame.style.setProperty('top', `${correction.top}px`);\n}\n\nfunction replaceFrameListItems(removedNodeNumb, beforeNodeNumb) {\n  const canvasList = document.querySelector('.canvas-list');\n  const removedNode = document.querySelector(`[data-canvas-number='${removedNodeNumb}']`);\n  const beforeNode = document.querySelector(`[data-canvas-number='${beforeNodeNumb}']`);\n  const removedCanvasItem = canvasList.removeChild(removedNode);\n  canvasList.insertBefore(removedCanvasItem, beforeNode);\n}\n\nfunction checkReplace(nodeArray, frame) {\n  const prevNode = frame.previousSibling ? frame.previousSibling : null;\n  const nextNode = frame.nextSibling.nextSibling.classList.contains('frame') ? frame.nextSibling.nextSibling : null;\n  if (nodeArray.includes(prevNode)) return prevNode;\n  if (nodeArray.includes(nextNode)) return nextNode;\n  return null;\n}\n\nfunction isReplaceWithTop(movedNode, replacedNode) {\n  const topNode = movedNode.previousSibling;\n  return replacedNode === topNode;\n}\n\nfunction replaceFrameItems(draggableFrame, nodeForReplace) {\n  const frameList = draggableFrame.parentNode;\n  const shadowNode = document.querySelector('.frame_shadow');\n  if (isReplaceWithTop(draggableFrame, nodeForReplace)) {\n    const removedNode = frameList.removeChild(nodeForReplace);\n    const removedNodeNumb = removedNode.getAttribute('data-number');\n    const beforeNodeNumb = shadowNode.nextSibling.getAttribute('data-number');\n    frameList.insertBefore(removedNode, shadowNode.nextSibling);\n    replaceFrameListItems(removedNodeNumb, beforeNodeNumb);\n  } else {\n    const removedNode = frameList.removeChild(nodeForReplace);\n    const removedNodeNumb = removedNode.getAttribute('data-number');\n    const beforeNodeNumb = draggableFrame.getAttribute('data-number');\n    frameList.insertBefore(removedNode, draggableFrame);\n    replaceFrameListItems(removedNodeNumb, beforeNodeNumb);\n  }\n}\n\nfunction moveFrameItem(e, frame, frameTop) {\n  const draggableFrame = frame;\n  const startY = draggableFrame.getAttribute('data-start-y');\n  const endY = e.clientY;\n  const resultMove = +endY - +startY;\n  const nodesArray = document.elementsFromPoint(e.clientX, e.clientY);\n  const nodeForReplace = checkReplace(nodesArray, frame);\n  if (nodeForReplace) replaceFrameItems(draggableFrame, nodeForReplace, e);\n  draggableFrame.style.top = `${frameTop + resultMove}px`;\n}\n\nfunction endMove(e) {\n  const draggableFrame = document.querySelector('.draggable');\n  const playerProps = window.player;\n  // eslint-disable-next-line no-use-before-define\n  removeListeners(e);\n  removeFrameShadow();\n  draggableFrame.setAttribute('style', '');\n  draggableFrame.classList.remove('draggable');\n  setFramesCorrectNumb();\n  Canvas.setCanvasCorrectNumb();\n  Preview.createAnimationFrames(playerProps);\n}\n\nfunction removeListeners(e) {\n  const framesList = e.target.closest('.frames');\n  framesList.onmousemove = null;\n  framesList.removeEventListener('mouseleave', endMove);\n  framesList.removeEventListener('mouseup', endMove);\n}\n\nfunction listenersFunc(e) {\n  const { target } = e;\n  const that = this;\n  const eventType = e.type;\n  if (target.closest('.btn_new-frame') && eventType === 'click') {\n    createFrame(target.closest('.btn_new-frame'), that);\n    createCanvas(that);\n    setActiveCanvas();\n    Preview.createAnimationFrames(that, 'add');\n  }\n  if (target.closest('.frame__remove') && eventType === 'click') {\n    removeFrame(target.closest('.frame'), that);\n    removeCanvas(target.closest('.frame'));\n    setActiveCanvas();\n    Preview.createAnimationFrames(that);\n    return;\n  }\n  if (target.closest('.frame__copy') && eventType === 'click') {\n    copyFrame(target.closest('.frame'), that);\n    copyCanvasListItem(target.closest('.frame'), that);\n    setActiveCanvas();\n    Preview.createAnimationFrames(that);\n    return;\n  }\n  if (target.closest('.frame') && eventType === 'click') {\n    setActiveFrame(target.closest('.frame'), that);\n    setActiveCanvas();\n  }\n  if (target.closest('.frame__move') && eventType === 'mousedown') {\n    const frame = target.closest('.frame');\n    const framesList = target.closest('.frames');\n    appendFrameShadow(frame);\n    setCoordinates(frame, e);\n    const frameTop = parseInt(frame.style.top, 10);\n    frame.classList.add('draggable');\n    frame.setAttribute('data-start-y', e.clientY);\n    framesList.onmousemove = (ev) => {\n      moveFrameItem(ev, frame, frameTop);\n    };\n    framesList.addEventListener('mouseleave', endMove);\n    framesList.addEventListener('mouseup', endMove);\n  }\n}\n\nexport default class FramesList {\n  constructor(props) {\n    this.props = props;\n  }\n\n  static create() {\n    const framesList = document.createElement('ul');\n    const addNewFrame = document.createElement('button');\n    framesList.classList.add('frames');\n    addNewFrame.classList.add('btn_new-frame');\n    addNewFrame.setAttribute('title', 'shortcut: \"F\"');\n    addNewFrame.innerHTML = '<div class=\"icon\"></div><span>Add new frame</span>';\n    framesList.appendChild(addNewFrame);\n    return framesList;\n  }\n\n  render() {\n    const { props } = this;\n    const framesList = FramesList.create();\n    framesList.addEventListener('click', listenersFunc.bind(props));\n    framesList.addEventListener('mousedown', listenersFunc.bind(props));\n    document.body.appendChild(framesList);\n  }\n}\n","import Header from './components/header/header';\nimport Tools from './components/tools/tools';\nimport FramesList from './components/frames-list/frames-list';\nimport Canvas from './screens/canvas/canvas';\nimport Preview from './screens/preview/preview';\n\nfunction checkShortcuts(key) {\n  const shortCuts = window.player.shortcuts;\n  let selectedButton = null;\n  Object.entries(shortCuts).forEach((item) => {\n    const shortCut = item[1];\n    if (shortCut[0] === key) {\n      // eslint-disable-next-line prefer-destructuring\n      selectedButton = shortCut[1];\n    }\n  });\n  return selectedButton;\n}\n\nfunction setPenSize(command) {\n  const range = document.querySelector('.tool_pen-size input');\n  const view = document.querySelector('.pen-size_view');\n  if (command === '.up') range.stepUp(1);\n  if (command === '.down') range.stepDown(1);\n  view.innerHTML = `<b>Pen size:</b> ${range.value}`;\n}\n\nfunction chooseButton(button) {\n  if (button === '.up' || button === '.down') setPenSize(button);\n  if (!document.querySelector(button)) return;\n  document.querySelector(button).click();\n}\n\nfunction listenerFunc(e) {\n  const that = this;\n  if (e.type === 'keydown') {\n    const pressKeys = e.key.toLowerCase();\n    if (that.pressButtons !== pressKeys) that.pressButtons = pressKeys;\n  }\n  if (e.type === 'keyup') that.pressButtons = null;\n  if (e.type === 'keypress') {\n    const pressKey = e.key.toUpperCase();\n    const button = checkShortcuts(pressKey);\n    chooseButton(button);\n  }\n}\n\nexport default class Player {\n  constructor() {\n    this.selectedTools = {\n      bucket: false,\n      colorPicker: false,\n      move: false,\n      lightenDarken: false,\n      pen: false,\n      eraser: false,\n      line: false,\n      ellipse: false,\n      ellipsePaint: false,\n      rectangle: false,\n      rectanglePaint: false,\n    };\n    this.canvasState = {\n      isDraw: false,\n      penSize: 1,\n      currentColor: '#000000',\n    };\n    this.pressButtons = null;\n    this.isMenuOpen = false;\n    this.isOptionsOpen = false;\n    this.animationFrames = [];\n    this.currentFrame = null;\n    this.countFrames = 0;\n    this.selectedFPS = 4;\n    this.frameOnPreview = 0;\n    this.shortcuts = {\n      penSizeUp: ['+', '.up'],\n      penSizeDown: ['-', '.down'],\n      addFrame: ['F', '.btn_new-frame'],\n      removeFrame: ['R', '.frame__remove'],\n      copyFrame: ['V', '.frame__copy'],\n      pen: ['P', '.tool_pen'],\n      line: ['L', '.tool_line'],\n      clean: ['C', '.tool_clean'],\n      eraser: ['E', '.tool_eraser'],\n      ellipse: ['Q', '.tool_ellipse'],\n      ellipsePaint: ['W', '.tool_ellipse__paint'],\n      rectangle: ['A', '.tool_rectangle'],\n      rectanglePaint: ['S', '.tool_rectangle__paint'],\n      move: ['M', '.tool_move'],\n      colorPicker: ['X', '.tool_lighten-darken'],\n      lightenDarken: ['Z', '.tool_color-picker'],\n      swapColor: ['Y', '.change-color'],\n    };\n  }\n\n  render() {\n    const header = new Header(this);\n    const tools = new Tools(this);\n    const framesList = new FramesList(this);\n    const preview = new Preview(this);\n    header.render();\n    tools.render();\n    framesList.render();\n    Canvas.renderCanvasWrapper(this);\n    preview.render();\n    document.addEventListener('keydown', listenerFunc.bind(this));\n    document.addEventListener('keyup', listenerFunc.bind(this));\n    document.addEventListener('keypress', listenerFunc.bind(this));\n  }\n}\n","import Player from './player';\nimport './main.sass';\n\nconst player = new Player();\nwindow.player = player;\nplayer.render();\n"],"sourceRoot":""}